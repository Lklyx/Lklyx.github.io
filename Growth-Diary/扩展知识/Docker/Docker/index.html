<!-- build time:Tue Jun 06 2023 20:15:44 GMT+0800 (中国标准时间) --><!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#FFF"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png"><link rel="icon" type="image/ico" sizes="32x32" href="/images/favicon.ico"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="alternate" type="application/rss+xml" title="沿岸踱步" href="https://github.com/Lklyx/Lklyx.github.io/rss.xml"><link rel="alternate" type="application/atom+xml" title="沿岸踱步" href="https://github.com/Lklyx/Lklyx.github.io/atom.xml"><link rel="alternate" type="application/json" title="沿岸踱步" href="https://github.com/Lklyx/Lklyx.github.io/feed.json"><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Mulish:300,300italic,400,400italic,700,700italic%7CFredericka%20the%20Great:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20JP:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20SC:300,300italic,400,400italic,700,700italic%7CInconsolata:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext"><link rel="stylesheet" href="/css/app.css?v=0.2.4"><meta name="keywords" content="Docker"><link rel="canonical" href="https://github.com/Lklyx/Lklyx.github.io/Growth-Diary/%E6%89%A9%E5%B1%95%E7%9F%A5%E8%AF%86/Docker/Docker/"><title>学习Docker - Docker - 扩展知识 - 历练ing | Watching Autumn = 沿岸踱步 = 成长日记</title><meta name="generator" content="Hexo 5.4.0"></head><body itemscope itemtype="http://schema.org/WebPage"><div id="loading"><div class="cat"><div class="body"></div><div class="head"><div class="face"></div></div><div class="foot"><div class="tummy-end"></div><div class="bottom"></div><div class="legs left"></div><div class="legs right"></div></div><div class="paw"><div class="hands left"></div><div class="hands right"></div></div></div></div><div id="container"><header id="header" itemscope itemtype="http://schema.org/WPHeader"><div class="inner"><div id="brand"><div class="pjax"><h1 itemprop="name headline">学习Docker</h1><div class="meta"><span class="item" title="创建时间：2021-05-18 00:00:00"><span class="icon"><i class="ic i-calendar"></i> </span><span class="text">发表于</span> <time itemprop="dateCreated datePublished" datetime="2021-05-18T00:00:00+08:00">2021-05-18</time> </span><span class="item" title="本文字数"><span class="icon"><i class="ic i-pen"></i> </span><span class="text">本文字数</span> <span>20k</span> <span class="text">字</span> </span><span class="item" title="阅读时长"><span class="icon"><i class="ic i-clock"></i> </span><span class="text">阅读时长</span> <span>18 分钟</span></span></div></div></div><nav id="nav"><div class="inner"><div class="toggle"><div class="lines" aria-label="切换导航栏"><span class="line"></span> <span class="line"></span> <span class="line"></span></div></div><ul class="menu"><li class="item title"><a href="/" rel="start">Watching Autumn</a></li></ul><ul class="right"><li class="item theme"><i class="ic i-sun"></i></li><li class="item search"><i class="ic i-search"></i></li></ul></div></nav></div><div id="imgs" class="pjax"><ul><li class="item" data-background-image="https://img.timelessq.com/image/0072vf1pgy1foxk3qdi4cj31kw0w0kh2.BftP"></li><li class="item" data-background-image="https://img.timelessq.com/image/6833939bly1giclxxcb6rj20zk0m8b29.NEJz"></li><li class="item" data-background-image="https://img.timelessq.com/image/3u8lz8xvbqbtu04ddrl07mzmzi9z9nb.NsQi"></li><li class="item" data-background-image="https://img.timelessq.com/image/dae614afly1fu89lpjfnoj21sh0ygb29.qevK"></li><li class="item" data-background-image="https://img.timelessq.com/album/CZP/?sort=title_asc&page=1"></li><li class="item" data-background-image="https://img.timelessq.com/image/6833939bly1gipet8c1a2j20zk0m8kct.NjQu"></li></ul></div></header><div id="waves"><svg class="waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z"/></defs><g class="parallax"><use xlink:href="#gentle-wave" x="48" y="0"/><use xlink:href="#gentle-wave" x="48" y="3"/><use xlink:href="#gentle-wave" x="48" y="5"/><use xlink:href="#gentle-wave" x="48" y="7"/></g></svg></div><main><div class="inner"><div id="main" class="pjax"><div class="article wrap"><div class="breadcrumb" itemscope itemtype="https://schema.org/BreadcrumbList"><i class="ic i-home"></i> <span><a href="/">首页</a></span><i class="ic i-angle-right"></i> <span itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem"><a href="/categories/Growth-Diary/" itemprop="item" rel="index" title="分类于 历练ing"><span itemprop="name">历练ing</span></a><meta itemprop="position" content="1"></span><i class="ic i-angle-right"></i> <span itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem"><a href="/categories/Growth-Diary/%E6%89%A9%E5%B1%95%E7%9F%A5%E8%AF%86/" itemprop="item" rel="index" title="分类于 扩展知识"><span itemprop="name">扩展知识</span></a><meta itemprop="position" content="2"></span><i class="ic i-angle-right"></i> <span class="current" itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem"><a href="/categories/Growth-Diary/%E6%89%A9%E5%B1%95%E7%9F%A5%E8%AF%86/Docker/" itemprop="item" rel="index" title="分类于 Docker"><span itemprop="name">Docker</span></a><meta itemprop="position" content="3"></span></div><article itemscope itemtype="http://schema.org/Article" class="post block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://github.com/Lklyx/Lklyx.github.io/Growth-Diary/%E6%89%A9%E5%B1%95%E7%9F%A5%E8%AF%86/Docker/Docker/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.jpg"><meta itemprop="name" content="Yanan^_^Duobu"><meta itemprop="description" content="成长日记, 沿岸踱步 & 成长记录"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="沿岸踱步"></span><div class="body md" itemprop="articleBody"><h1 id="常用命令"><a class="anchor" href="#常用命令">#</a> 常用命令</h1><blockquote><ol><li><p>Docker 容器信息</p><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">## 查看 docker 容器版本</span></pre></td></tr><tr><td data-num="2"></td><td><pre>docker version</pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token comment">## 查看 docker 容器信息</span></pre></td></tr><tr><td data-num="4"></td><td><pre>docker info</pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token comment">## 查看 docker 容器帮助</span></pre></td></tr><tr><td data-num="6"></td><td><pre>docker --help</pre></td></tr></table></figure></li><li><p>镜像操作</p><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment"># 查看本地所有镜像</span></pre></td></tr><tr><td data-num="2"></td><td><pre>docker images </pre></td></tr><tr><td data-num="3"></td><td><pre></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token comment"># 启动并进入镜像</span></pre></td></tr><tr><td data-num="5"></td><td><pre> docker run -it + 镜像名字：版本号 + /bin/bash</pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token comment"># 如果只加名字，就默认下载最新版本的启动</span></pre></td></tr><tr><td data-num="7"></td><td><pre></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token comment"># 第一次启动镜像</span></pre></td></tr><tr><td data-num="9"></td><td><pre> docker run -d -p <span class="token number">3310</span>:3306 -v /home/mysql/conf:/etc/mysql/conf.d -v /home/mysql/data:/var/lib/mysql</pre></td></tr><tr><td data-num="10"></td><td><pre> -d <span class="token comment"># 后台运行</span></pre></td></tr><tr><td data-num="11"></td><td><pre> -p <span class="token comment"># 3310:3306 暴露端口</span></pre></td></tr><tr><td data-num="12"></td><td><pre> -v <span class="token comment"># 挂载数据，自动备份、路径</span></pre></td></tr><tr><td data-num="13"></td><td><pre> /home/mysql/conf:/etc/mysql/conf.d  这是映射配置文件的。</pre></td></tr><tr><td data-num="14"></td><td><pre> /home/mysql/data:/var/lib/mysql	这是映射配置数据文件的。</pre></td></tr><tr><td data-num="15"></td><td><pre></pre></td></tr><tr><td data-num="16"></td><td><pre><span class="token comment"># 显示镜像 ID</span></pre></td></tr><tr><td data-num="17"></td><td><pre>docker images -a</pre></td></tr><tr><td data-num="18"></td><td><pre>docker images -aq</pre></td></tr><tr><td data-num="19"></td><td><pre></pre></td></tr><tr><td data-num="20"></td><td><pre><span class="token comment"># 搜索仓库 MySQL 镜像</span></pre></td></tr><tr><td data-num="21"></td><td><pre>docker search mysql</pre></td></tr><tr><td data-num="22"></td><td><pre></pre></td></tr><tr><td data-num="23"></td><td><pre><span class="token comment"># 下载 Redis 官方最新镜像，相当于：docker pull redis:latest</span></pre></td></tr><tr><td data-num="24"></td><td><pre>docker pull redis</pre></td></tr><tr><td data-num="25"></td><td><pre></pre></td></tr><tr><td data-num="26"></td><td><pre><span class="token comment"># 下载仓库所有 Redis 镜像</span></pre></td></tr><tr><td data-num="27"></td><td><pre>docker pull -a redis</pre></td></tr><tr><td data-num="28"></td><td><pre></pre></td></tr><tr><td data-num="29"></td><td><pre><span class="token comment"># 下载私人仓库镜像</span></pre></td></tr><tr><td data-num="30"></td><td><pre>docker pull bitnami/redis</pre></td></tr><tr><td data-num="31"></td><td><pre></pre></td></tr><tr><td data-num="32"></td><td><pre><span class="token comment"># 单个镜像删除，相当于：docker rmi redis:latest</span></pre></td></tr><tr><td data-num="33"></td><td><pre>docker rmi redis</pre></td></tr><tr><td data-num="34"></td><td><pre></pre></td></tr><tr><td data-num="35"></td><td><pre><span class="token comment"># 强制删除 (针对基于镜像有运行的容器进程)</span></pre></td></tr><tr><td data-num="36"></td><td><pre>docker rmi -f redis</pre></td></tr><tr><td data-num="37"></td><td><pre></pre></td></tr><tr><td data-num="38"></td><td><pre><span class="token comment"># 删除本地全部镜像</span></pre></td></tr><tr><td data-num="39"></td><td><pre>docker rmi -f <span class="token variable"><span class="token variable">$(</span>docker images -q<span class="token variable">)</span></span></pre></td></tr></table></figure></li><li><p>容器的操作</p><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment"># 查看正在运行的容器</span></pre></td></tr><tr><td data-num="2"></td><td><pre>   docker <span class="token function">ps</span></pre></td></tr><tr><td data-num="3"></td><td><pre></pre></td></tr><tr><td data-num="4"></td><td><pre>   <span class="token comment"># 显示所有的容器，包括未运行的</span></pre></td></tr><tr><td data-num="5"></td><td><pre>   docker <span class="token function">ps</span> -a</pre></td></tr><tr><td data-num="6"></td><td><pre></pre></td></tr><tr><td data-num="7"></td><td><pre>   <span class="token comment"># 启动容器</span></pre></td></tr><tr><td data-num="8"></td><td><pre>   docker start 容器id	</pre></td></tr><tr><td data-num="9"></td><td><pre></pre></td></tr><tr><td data-num="10"></td><td><pre>   <span class="token comment"># 进入正在运行的命令行</span></pre></td></tr><tr><td data-num="11"></td><td><pre>   docker <span class="token builtin class-name">exec</span> -it + 容器id /bin/bash</pre></td></tr><tr><td data-num="12"></td><td><pre>   docker attach 容器id	</pre></td></tr><tr><td data-num="13"></td><td><pre></pre></td></tr><tr><td data-num="14"></td><td><pre>   <span class="token comment"># 运行并进入容器。  使用 exit 退出，或者 ctrl+p+q，退出。</span></pre></td></tr><tr><td data-num="15"></td><td><pre>   docker run -it + 名字 + /bin/bash</pre></td></tr><tr><td data-num="16"></td><td><pre></pre></td></tr><tr><td data-num="17"></td><td><pre>   <span class="token comment"># 强制删除已经启动的容器</span></pre></td></tr><tr><td data-num="18"></td><td><pre>   docker <span class="token function">rm</span> -f + ID</pre></td></tr><tr><td data-num="19"></td><td><pre></pre></td></tr><tr><td data-num="20"></td><td><pre>   <span class="token comment"># 强制删除所有已经启动的容器。</span></pre></td></tr><tr><td data-num="21"></td><td><pre>   docker <span class="token function">rm</span> -f <span class="token variable"><span class="token variable">$(</span>docker <span class="token function">ps</span> -aq<span class="token variable">)</span></span></pre></td></tr><tr><td data-num="22"></td><td><pre>   </pre></td></tr><tr><td data-num="23"></td><td><pre>   <span class="token comment"># 删除容器中没有运行的容器</span></pre></td></tr><tr><td data-num="24"></td><td><pre>   <span class="token function">sudo</span> docker <span class="token function">rm</span> <span class="token variable"><span class="token variable">$(</span><span class="token function">sudo</span> docker <span class="token function">ps</span> -aq<span class="token variable">)</span></span></pre></td></tr><tr><td data-num="25"></td><td><pre></pre></td></tr><tr><td data-num="26"></td><td><pre>   <span class="token comment"># 列出容器中的进程</span></pre></td></tr><tr><td data-num="27"></td><td><pre>   docker <span class="token function">top</span> + ID</pre></td></tr><tr><td data-num="28"></td><td><pre></pre></td></tr><tr><td data-num="29"></td><td><pre>   <span class="token comment"># 查看容日的日志</span></pre></td></tr><tr><td data-num="30"></td><td><pre>   docker logs -f -t --tail<span class="token operator">=</span><span class="token number">5</span> + ID </pre></td></tr><tr><td data-num="31"></td><td><pre>   <span class="token comment"># -f 跟踪日志输出</span></pre></td></tr><tr><td data-num="32"></td><td><pre>   <span class="token comment"># -t 显示时间戳</span></pre></td></tr><tr><td data-num="33"></td><td><pre>   <span class="token comment"># --tail=N 列出最新的 N 条内容。</span></pre></td></tr><tr><td data-num="34"></td><td><pre></pre></td></tr><tr><td data-num="35"></td><td><pre>   <span class="token comment"># 查看容器 tomcat 从 2021 年 04 月 21 日后的最新 3 条日志。</span></pre></td></tr><tr><td data-num="36"></td><td><pre>   docker logs --since<span class="token operator">=</span><span class="token string">"2021-04-21"</span> --tail<span class="token operator">=</span><span class="token number">3</span> 5afc660a7c3d</pre></td></tr><tr><td data-num="37"></td><td><pre></pre></td></tr><tr><td data-num="38"></td><td><pre>   docker restart 容器id	<span class="token comment"># 重启容器</span></pre></td></tr><tr><td data-num="39"></td><td><pre>   docker stop 容器id	<span class="token comment"># 停止当前正在运行的容器</span></pre></td></tr><tr><td data-num="40"></td><td><pre>   docker <span class="token function">kill</span> 容器id	<span class="token comment"># 杀死当前正在运行的容器</span></pre></td></tr></table></figure></li><li><p>其他扩展</p><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment"># 查看容器的日志</span></pre></td></tr><tr><td data-num="2"></td><td><pre>docker logs -f -t --tail 容器ID</pre></td></tr><tr><td data-num="3"></td><td><pre>-f <span class="token comment"># 跟随最新的日志打印</span></pre></td></tr><tr><td data-num="4"></td><td><pre>-t <span class="token comment"># 是加入的时间戳</span></pre></td></tr><tr><td data-num="5"></td><td><pre>--tail <span class="token comment"># 显示最后多少条</span></pre></td></tr></table></figure></li></ol></blockquote><h1 id="docker-学习路径"><a class="anchor" href="#docker-学习路径">#</a> Docker 学习路径</h1><p>学习视频地址<span class="exturl" data-url="aHR0cHM6Ly93d3cuYmlsaWJpbGkuY29tL3ZpZGVvL0JWMW9nNHkxcTdNND9wPTE="> Docker</span></p><ol><li>Docker 概述</li><li>Docker 安装</li><li>Docker 命令<ul><li>镜像命令</li><li>容器命令</li><li>操作命令</li></ul></li><li>Docker 镜像！</li><li>容器数据卷！</li><li>DockerFile</li><li>Docker 网络原理</li><li>IDEA 整合 Docker</li><li>Docker Compose</li><li>Docker Swarm</li><li>CI、CD Jenkins</li></ol><h1 id="安装docker"><a class="anchor" href="#安装docker">#</a> 安装 Docker</h1><blockquote><p>准备环境</p></blockquote><ol><li>需要会一点 Linux 的基础</li><li>CentOS 7 及以上版本</li><li>我们使用 Xshell 连接远程服务器进行操作！</li></ol><blockquote><p>环境查看</p></blockquote><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment"># 系统内核是 3.0 以上的</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token function">uname</span> -r</pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token number">4.18</span>.0-240.10.1.el8_3.x86_64</pre></td></tr></table></figure><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment"># 系统版本</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token punctuation">[</span>root@yanan sbin<span class="token punctuation">]</span><span class="token comment"># cat /etc/os-release </span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token assign-left variable">NAME</span><span class="token operator">=</span><span class="token string">"CentOS Linux"</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token assign-left variable">VERSION</span><span class="token operator">=</span><span class="token string">"8"</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token assign-left variable">ID</span><span class="token operator">=</span><span class="token string">"centos"</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token assign-left variable">ID_LIKE</span><span class="token operator">=</span><span class="token string">"rhel fedora"</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token assign-left variable">VERSION_ID</span><span class="token operator">=</span><span class="token string">"8"</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token assign-left variable">PLATFORM_ID</span><span class="token operator">=</span><span class="token string">"platform:el8"</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token assign-left variable">PRETTY_NAME</span><span class="token operator">=</span><span class="token string">"CentOS Linux 8"</span></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token assign-left variable">ANSI_COLOR</span><span class="token operator">=</span><span class="token string">"0;31"</span></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token assign-left variable">CPE_NAME</span><span class="token operator">=</span><span class="token string">"cpe:/o:centos:centos:8"</span></pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token assign-left variable">HOME_URL</span><span class="token operator">=</span><span class="token string">"https://centos.org/"</span></pre></td></tr><tr><td data-num="13"></td><td><pre><span class="token assign-left variable">BUG_REPORT_URL</span><span class="token operator">=</span><span class="token string">"https://bugs.centos.org/"</span></pre></td></tr><tr><td data-num="14"></td><td><pre><span class="token assign-left variable">CENTOS_MANTISBT_PROJECT</span><span class="token operator">=</span><span class="token string">"CentOS-8"</span></pre></td></tr><tr><td data-num="15"></td><td><pre><span class="token assign-left variable">CENTOS_MANTISBT_PROJECT_VERSION</span><span class="token operator">=</span><span class="token string">"8"</span></pre></td></tr><tr><td data-num="16"></td><td><pre><span class="token punctuation">[</span>root@yanan sbin<span class="token punctuation">]</span><span class="token comment">#</span></pre></td></tr></table></figure><blockquote><p>安装</p></blockquote><p>查看官网的帮助文档：</p><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment"># 1、卸载旧的版本</span></pre></td></tr><tr><td data-num="2"></td><td><pre>yum remove docker <span class="token punctuation">\</span></pre></td></tr><tr><td data-num="3"></td><td><pre>                  docker-client <span class="token punctuation">\</span></pre></td></tr><tr><td data-num="4"></td><td><pre>                  docker-client-latest <span class="token punctuation">\</span></pre></td></tr><tr><td data-num="5"></td><td><pre>                  docker-common <span class="token punctuation">\</span></pre></td></tr><tr><td data-num="6"></td><td><pre>                  docker-latest <span class="token punctuation">\</span></pre></td></tr><tr><td data-num="7"></td><td><pre>                  docker-latest-logrotate <span class="token punctuation">\</span></pre></td></tr><tr><td data-num="8"></td><td><pre>                  docker-logrotate <span class="token punctuation">\</span></pre></td></tr><tr><td data-num="9"></td><td><pre>                  docker-engine</pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token comment"># 2、需要的安装包</span></pre></td></tr><tr><td data-num="11"></td><td><pre>yum <span class="token function">install</span> -y yum-utils</pre></td></tr><tr><td data-num="12"></td><td><pre></pre></td></tr><tr><td data-num="13"></td><td><pre><span class="token comment"># 3、设置镜像的仓库 使用国内阿里云的镜像仓库</span></pre></td></tr><tr><td data-num="14"></td><td><pre>yum-config-manager --add-repo http://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo</pre></td></tr><tr><td data-num="15"></td><td><pre></pre></td></tr><tr><td data-num="16"></td><td><pre><span class="token comment"># 更新 yum 软件包的索引</span></pre></td></tr><tr><td data-num="17"></td><td><pre>yum makecache fast</pre></td></tr><tr><td data-num="18"></td><td><pre></pre></td></tr><tr><td data-num="19"></td><td><pre><span class="token comment"># 4、安装 docker 相关的类容 docker-ce 社区版本 docker-ee 企业版</span></pre></td></tr><tr><td data-num="20"></td><td><pre>yum <span class="token function">install</span> docker-ce docker-ce-cli containerd.io</pre></td></tr><tr><td data-num="21"></td><td><pre></pre></td></tr><tr><td data-num="22"></td><td><pre><span class="token comment"># 5、启动 docker</span></pre></td></tr><tr><td data-num="23"></td><td><pre>systemctl start docker</pre></td></tr><tr><td data-num="24"></td><td><pre></pre></td></tr><tr><td data-num="25"></td><td><pre><span class="token comment"># 6、使用 docker version 查看是否安装成功。</span></pre></td></tr><tr><td data-num="26"></td><td><pre>docker version</pre></td></tr><tr><td data-num="27"></td><td><pre></pre></td></tr><tr><td data-num="28"></td><td><pre><span class="token comment"># 7、hello-world</span></pre></td></tr><tr><td data-num="29"></td><td><pre>docker run hello-world</pre></td></tr></table></figure><p>&lt;img src=&quot;e:\<span class="exturl" data-url="aHR0cDovL0xrbHl4LmdpdGh1Yi5pbw==">Lklyx.github.io</span>\source_posts\Growth-Diary\ 扩展知识 \Docker\image\1.png&quot;alt=&quot;image-20210616175154839&quot; /&gt;</p><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment"># 8、查看一下下载的这个 hello-world 镜像</span></pre></td></tr><tr><td data-num="2"></td><td><pre>docker images</pre></td></tr></table></figure><h2 id="了解怎么卸载docker"><a class="anchor" href="#了解怎么卸载docker">#</a> 了解：怎么卸载 docker</h2><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment"># 1、卸载依赖</span></pre></td></tr><tr><td data-num="2"></td><td><pre>yum remove docker-ce docker-ce-cli containerd.io</pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token comment"># 2、删除 docker 资源</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token function">rm</span> -rf /var/lib/docker</pre></td></tr></table></figure><h2 id="底层原理"><a class="anchor" href="#底层原理">#</a> 底层原理</h2><p><strong>Docker 是什么工作的？</strong></p><p>Docker 是一个 Client - Server 结构的系统，Docker 的守护进程运行在主机上</p><h1 id="docker的常用命令"><a class="anchor" href="#docker的常用命令">#</a> Docker 的常用命令</h1><h2 id="设置自动启动"><a class="anchor" href="#设置自动启动">#</a> 设置自动启动</h2><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre>systemctl <span class="token builtin class-name">enable</span> docker.service</pre></td></tr></table></figure><h2 id="帮助命令"><a class="anchor" href="#帮助命令">#</a> 帮助命令</h2><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre>docker version <span class="token comment"># 查看 docker 的版本</span></pre></td></tr><tr><td data-num="2"></td><td><pre>docker info <span class="token comment"># 查看 docker 的更加详细信息</span></pre></td></tr><tr><td data-num="3"></td><td><pre>docker --help <span class="token comment"># 万能命令</span></pre></td></tr></table></figure><p>帮助文档的地址：<span class="exturl" data-url="aHR0cHM6Ly9kb2NzLmRvY2tlci5jb20vZW5naW5lL3JlZmVyZW5jZS9jb21tYW5kbGluZS9jbGkv">https://docs.docker.com/engine/reference/commandline/cli/</span></p><h2 id="镜像命令"><a class="anchor" href="#镜像命令">#</a> 镜像命令</h2><p><strong>docker images</strong> 查看所有本地的主机上的镜像。</p><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token punctuation">[</span>root@yanan /<span class="token punctuation">]</span><span class="token comment"># docker images</span></pre></td></tr><tr><td data-num="2"></td><td><pre>REPOSITORY    TAG       IMAGE ID       CREATED        SIZE</pre></td></tr><tr><td data-num="3"></td><td><pre>hello-world   latest    d1165f221234   <span class="token number">3</span> months ago   <span class="token number">13</span>.3kB</pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token comment"># 解释</span></pre></td></tr><tr><td data-num="5"></td><td><pre>REPOSITORY 镜像的仓库源</pre></td></tr><tr><td data-num="6"></td><td><pre>TAG        镜像的标签</pre></td></tr><tr><td data-num="7"></td><td><pre>IMAGE ID   镜像的ID</pre></td></tr><tr><td data-num="8"></td><td><pre>CREATED    镜像的创建时间</pre></td></tr><tr><td data-num="9"></td><td><pre>SIZE       镜像的大小</pre></td></tr><tr><td data-num="10"></td><td><pre></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token comment"># 可选性</span></pre></td></tr><tr><td data-num="12"></td><td><pre>-a， --all			<span class="token comment"># 列出所有镜像</span></pre></td></tr><tr><td data-num="13"></td><td><pre>-q， --quiet			<span class="token comment"># 只显示镜像 ID</span></pre></td></tr></table></figure><p><strong>docker search 搜索镜像</strong></p><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token punctuation">[</span>root@yanan /<span class="token punctuation">]</span><span class="token comment"># docker search mysql</span></pre></td></tr><tr><td data-num="2"></td><td><pre>NAME                              DESCRIPTION                                     STARS     OFFICIAL   AUTOMATED</pre></td></tr><tr><td data-num="3"></td><td><pre>mysql                             MySQL is a widely used, open-source relation…   <span class="token number">11003</span>     <span class="token punctuation">[</span>OK<span class="token punctuation">]</span>       </pre></td></tr><tr><td data-num="4"></td><td><pre>mariadb                           MariaDB Server is a high performing <span class="token function">open</span> sou…   <span class="token number">4169</span>      <span class="token punctuation">[</span>OK<span class="token punctuation">]</span>      </pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span></pre></td></tr><tr><td data-num="6"></td><td><pre></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token comment"># 可选性，通过搜索来过滤</span></pre></td></tr><tr><td data-num="8"></td><td><pre>--filter<span class="token operator">=</span>STARS<span class="token operator">=</span><span class="token number">3000</span> <span class="token comment"># 搜索出来的镜像就是 STARS 大于 3000 的</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token punctuation">[</span>root@yanan /<span class="token punctuation">]</span><span class="token comment"># docker search mysql --filter=STARS=3000</span></pre></td></tr><tr><td data-num="10"></td><td><pre>NAME      DESCRIPTION                                     STARS     OFFICIAL   AUTOMATED</pre></td></tr><tr><td data-num="11"></td><td><pre>mysql     MySQL is a widely used, open-source relation…   <span class="token number">11003</span>     <span class="token punctuation">[</span>OK<span class="token punctuation">]</span>       </pre></td></tr><tr><td data-num="12"></td><td><pre>mariadb   MariaDB Server is a high performing <span class="token function">open</span> sou…   <span class="token number">4169</span>      <span class="token punctuation">[</span>OK<span class="token punctuation">]</span></pre></td></tr></table></figure><p><strong>docker pull 下载镜像</strong></p><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment"># 下载镜像 docker pull + 镜像名 +[tag] 版本号 	镜像名以后可以加下载版本。</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token punctuation">[</span>root@yanan /<span class="token punctuation">]</span><span class="token comment"># docker pull mysql</span></pre></td></tr><tr><td data-num="3"></td><td><pre>Using default tag: latest	<span class="token comment"># 如果不写 tag 版本。默认就是 latest</span></pre></td></tr><tr><td data-num="4"></td><td><pre>latest: Pulling from library/mysql</pre></td></tr><tr><td data-num="5"></td><td><pre>69692152171a: Pull complete 	<span class="token comment"># 分层下载，docker image 的核心 联合文件系统</span></pre></td></tr><tr><td data-num="6"></td><td><pre>1651b0be3df3: Pull complete </pre></td></tr><tr><td data-num="7"></td><td><pre>951da7386bc8: Pull complete </pre></td></tr><tr><td data-num="8"></td><td><pre>0f86c95aa242: Pull complete </pre></td></tr><tr><td data-num="9"></td><td><pre>37ba2d8bd4fe: Pull complete </pre></td></tr><tr><td data-num="10"></td><td><pre>6d278bb05e94: Pull complete </pre></td></tr><tr><td data-num="11"></td><td><pre>497efbd93a3e: Pull complete </pre></td></tr><tr><td data-num="12"></td><td><pre>f7fddf10c2c2: Pull complete </pre></td></tr><tr><td data-num="13"></td><td><pre>16415d159dfb: Pull complete </pre></td></tr><tr><td data-num="14"></td><td><pre>0e530ffc6b73: Pull complete </pre></td></tr><tr><td data-num="15"></td><td><pre>b0a4a1a77178: Pull complete </pre></td></tr><tr><td data-num="16"></td><td><pre>cd90f92aa9ef: Pull complete </pre></td></tr><tr><td data-num="17"></td><td><pre>Digest: sha256:d50098d7fcb25b1fcb24e2d3247cae3fc55815d64fec640dc395840f8fa80969	<span class="token comment"># 签名</span></pre></td></tr><tr><td data-num="18"></td><td><pre>Status: Downloaded newer image <span class="token keyword">for</span> mysql:latest</pre></td></tr><tr><td data-num="19"></td><td><pre>docker.io/library/mysql:latest <span class="token comment"># 真实地址</span></pre></td></tr><tr><td data-num="20"></td><td><pre></pre></td></tr><tr><td data-num="21"></td><td><pre><span class="token comment"># 等价于它</span></pre></td></tr><tr><td data-num="22"></td><td><pre>docker pull mysql</pre></td></tr><tr><td data-num="23"></td><td><pre>docker pull docker.io/library/mysql:latest</pre></td></tr></table></figure><p><strong>docker rmi 删除镜像</strong></p><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre>docker rmi -f + 容器id		<span class="token comment"># 删除指定的容器</span></pre></td></tr><tr><td data-num="2"></td><td><pre>docker rmi -f + 容器id + 容器id + 容器id		<span class="token comment">#删除多个容器</span></pre></td></tr><tr><td data-num="3"></td><td><pre>docker rmi -f <span class="token variable"><span class="token variable">$(</span>docker images -aq<span class="token variable">)</span></span>		<span class="token comment"># 删除全部的容器。</span></pre></td></tr></table></figure><h2 id="容器命令"><a class="anchor" href="#容器命令">#</a> 容器命令</h2><blockquote><p>说明：我们有了镜像才可以创建容器，linux，下载一个 Cent OS 镜像来测试学习。</p></blockquote><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre>docker pull centos</pre></td></tr></table></figure><p><strong>新建容器并启动</strong></p><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre>docker run <span class="token punctuation">[</span>可选参数<span class="token punctuation">]</span> images</pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token comment"># 参数说明</span></pre></td></tr><tr><td data-num="3"></td><td><pre>--name<span class="token operator">=</span><span class="token string">"Name"</span>		 容器名字 tomcat1，tomcat2，用来区分容器</pre></td></tr><tr><td data-num="4"></td><td><pre>-d					后台方式运行</pre></td></tr><tr><td data-num="5"></td><td><pre>-it					使用交互方式运行</pre></td></tr><tr><td data-num="6"></td><td><pre>-P					大写P	指定容器的端口 -p <span class="token number">8080</span>:8080。有以下四种方式</pre></td></tr><tr><td data-num="7"></td><td><pre>	-P ip:主机端口:容器端口</pre></td></tr><tr><td data-num="8"></td><td><pre>	-P 主机端口:容器端口 （常用）</pre></td></tr><tr><td data-num="9"></td><td><pre>	-P 容器端口</pre></td></tr><tr><td data-num="10"></td><td><pre>	容器端口</pre></td></tr><tr><td data-num="11"></td><td><pre>-p			小写p	随机指定端口</pre></td></tr><tr><td data-num="12"></td><td><pre></pre></td></tr><tr><td data-num="13"></td><td><pre><span class="token comment"># 测试 启动并进入容器</span></pre></td></tr><tr><td data-num="14"></td><td><pre><span class="token punctuation">[</span>root@yanan /<span class="token punctuation">]</span><span class="token comment"># docker run -it centos /bin/bash</span></pre></td></tr><tr><td data-num="15"></td><td><pre><span class="token comment"># 解释：启动 docker run ，使用 it 交互方式运行，运行 centos。linux 中，控制台一般是在 /bin 目录下面，bin 目录下面，使用 bash 命令运行。</span></pre></td></tr><tr><td data-num="16"></td><td><pre><span class="token punctuation">[</span>root@9456c976569b /<span class="token punctuation">]</span><span class="token comment"># ls</span></pre></td></tr><tr><td data-num="17"></td><td><pre>bin  dev  etc  home  lib  lib64  lost+found  media  mnt  opt  proc  root  run  sbin  srv  sys  tmp  usr  var</pre></td></tr><tr><td data-num="18"></td><td><pre></pre></td></tr><tr><td data-num="19"></td><td><pre><span class="token comment"># 退出容器命令</span></pre></td></tr><tr><td data-num="20"></td><td><pre><span class="token builtin class-name">exit</span></pre></td></tr><tr><td data-num="21"></td><td><pre>Ctrl p Q</pre></td></tr></table></figure><p><strong>列出所有运行中的容器</strong></p><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment"># docker ps	命令</span></pre></td></tr><tr><td data-num="2"></td><td><pre>-a <span class="token comment"># 列出当前正在运行的容器 + 带出历史运行记录。</span></pre></td></tr><tr><td data-num="3"></td><td><pre>-n<span class="token operator">=</span>？ <span class="token comment"># 显示最近创建的容器。？等于一，就是显示一条。</span></pre></td></tr><tr><td data-num="4"></td><td><pre>-q <span class="token comment"># 只显示容器的编号</span></pre></td></tr></table></figure><p><strong>退出容器</strong></p><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token builtin class-name">exit</span>   <span class="token comment"># 直接容器停止并退出</span></pre></td></tr><tr><td data-num="2"></td><td><pre>Ctrl + p + Q	<span class="token comment"># 容器不停止退出</span></pre></td></tr></table></figure><p><strong>删除容器</strong></p><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre>docker <span class="token function">rm</span> 容器id		<span class="token comment"># 删除指定的容器，不能删除正在运行的容器，如果要强制删除 rm -f</span></pre></td></tr><tr><td data-num="2"></td><td><pre>docker <span class="token function">rm</span> -f <span class="token variable"><span class="token variable">$(</span>docker <span class="token function">ps</span> -aq<span class="token variable">)</span></span>	<span class="token comment"># 强制删除所有容器。</span></pre></td></tr><tr><td data-num="3"></td><td><pre>docker <span class="token function">ps</span> -a -q <span class="token operator">|</span> <span class="token function">xargs</span> docker <span class="token function">rm</span>	<span class="token comment">#删除所有的容器。</span></pre></td></tr></table></figure><p><strong>启动和停止容器的操作</strong></p><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre>docker start 容器id	<span class="token comment"># 启动容器</span></pre></td></tr><tr><td data-num="2"></td><td><pre>docker restart 容器id	<span class="token comment"># 重启容器</span></pre></td></tr><tr><td data-num="3"></td><td><pre>docker stop 容器id	<span class="token comment"># 停止当前正在运行的容器</span></pre></td></tr><tr><td data-num="4"></td><td><pre>docker <span class="token function">kill</span> 容器id	<span class="token comment"># 停止当前正在运行的容器</span></pre></td></tr></table></figure><h2 id="常用的其他命令"><a class="anchor" href="#常用的其他命令">#</a> 常用的其他命令</h2><p><strong>后台启动容器</strong></p><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment"># 命令 docker run -d + 镜像名</span></pre></td></tr><tr><td data-num="2"></td><td><pre>docker run -d centos</pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token comment"># 问题 docker ps，发现了 centos 停止了。</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token comment"># 常见的坑，docker 容器使用后台运行，就必须要有一个前台进程，docker 发现没有应用，就自动停止</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token comment"># nginx，容器启动后，发现自己没有提供服务，就立刻停止，就是没有程序了。</span></pre></td></tr></table></figure><p><strong>查看日志</strong></p><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre>docker logs -f -t --tail <span class="token number">10</span>	+ 容器id，没有日志</pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token comment"># 自己编写一段 shell 脚本</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token punctuation">[</span>root@yanan ~<span class="token punctuation">]</span><span class="token comment"># docker run -d centos /bin/sh -c "while true;do echo yanan;sleep 1;done"</span></pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token punctuation">[</span>root@yanan ~<span class="token punctuation">]</span><span class="token comment"># docker ps</span></pre></td></tr><tr><td data-num="6"></td><td><pre>CONTAINER ID   IMAGE     COMMAND                  CREATED             STATUS             PORTS     NAMES</pre></td></tr><tr><td data-num="7"></td><td><pre>632215a985f8   centos    <span class="token string">"/bin/sh -c 'while t…"</span>   <span class="token number">2</span> minutes ago       Up <span class="token number">2</span> minutes                 fervent_sutherland</pre></td></tr><tr><td data-num="8"></td><td><pre>9625ad394ea0   centos    <span class="token string">"/bin/bash"</span>              About an hour ago   Up About an hour             silly_perlman</pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token comment"># 这里的 id 为 632215a985f8 这个的就是刚才上面我们自己编写的 shell 脚本。</span></pre></td></tr><tr><td data-num="10"></td><td><pre></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token comment"># 显示日志</span></pre></td></tr><tr><td data-num="12"></td><td><pre>-tf</pre></td></tr><tr><td data-num="13"></td><td><pre>--tail number  <span class="token comment"># number 是要显示的条数。</span></pre></td></tr><tr><td data-num="14"></td><td><pre><span class="token punctuation">[</span>root@yanan ~<span class="token punctuation">]</span><span class="token comment"># docker logs -tf --tail 10 632215a985f8</span></pre></td></tr></table></figure><p><strong>查看容器中进程信息</strong></p><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment"># 命令 docker top + 容器 id</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token punctuation">[</span>root@yanan ~<span class="token punctuation">]</span><span class="token comment"># docker top 632215a985f8</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token environment constant">UID</span>                 PID                 <span class="token environment constant">PPID</span>                C                   STIME               TTY                 TIME                CMD</pre></td></tr><tr><td data-num="4"></td><td><pre>root                <span class="token number">130102</span>              <span class="token number">130082</span>              <span class="token number">0</span>                   <span class="token number">10</span>:46               ?                   00:00:00            /bin/sh -c <span class="token keyword">while</span> <span class="token boolean">true</span><span class="token punctuation">;</span><span class="token keyword">do</span> <span class="token builtin class-name">echo</span> yanan<span class="token punctuation">;</span><span class="token function">sleep</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token keyword">done</span></pre></td></tr><tr><td data-num="5"></td><td><pre>root                <span class="token number">130980</span>              <span class="token number">130102</span>              <span class="token number">0</span>                   <span class="token number">10</span>:56               ?                   00:00:00            /usr/bin/coreutils --coreutils-prog-shebang<span class="token operator">=</span>sleep /usr/bin/sleep <span class="token number">1</span></pre></td></tr></table></figure><p><strong>查看镜像的元数据</strong></p><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment"># 命令</span></pre></td></tr><tr><td data-num="2"></td><td><pre>docker inspect + 容器id</pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token comment"># 例子如下：</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token punctuation">[</span>root@yanan ~<span class="token punctuation">]</span><span class="token comment"># docker inspect 632215a985f8</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token punctuation">[</span></pre></td></tr><tr><td data-num="6"></td><td><pre>    <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>        <span class="token string">"Id"</span><span class="token builtin class-name">:</span> <span class="token string">"632215a985f86604fb0140c1cccfb91d218abaa0b97e143cb70868148beab7fd"</span>,</pre></td></tr><tr><td data-num="8"></td><td><pre>        <span class="token string">"Created"</span><span class="token builtin class-name">:</span> <span class="token string">"2021-06-18T02:46:48.189412678Z"</span>,</pre></td></tr><tr><td data-num="9"></td><td><pre>        <span class="token string">"Path"</span><span class="token builtin class-name">:</span> <span class="token string">"/bin/sh"</span>,</pre></td></tr><tr><td data-num="10"></td><td><pre>        <span class="token string">"Args"</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span></pre></td></tr><tr><td data-num="11"></td><td><pre>            <span class="token string">"-c"</span>,</pre></td></tr><tr><td data-num="12"></td><td><pre>            <span class="token string">"while true;do echo yanan;sleep 1;done"</span></pre></td></tr><tr><td data-num="13"></td><td><pre>        <span class="token punctuation">]</span>,</pre></td></tr><tr><td data-num="14"></td><td><pre>        <span class="token string">"State"</span><span class="token builtin class-name">:</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="15"></td><td><pre>            <span class="token string">"Status"</span><span class="token builtin class-name">:</span> <span class="token string">"running"</span>,</pre></td></tr><tr><td data-num="16"></td><td><pre>            <span class="token string">"Running"</span><span class="token builtin class-name">:</span> true,</pre></td></tr><tr><td data-num="17"></td><td><pre>            <span class="token string">"Paused"</span><span class="token builtin class-name">:</span> false,</pre></td></tr><tr><td data-num="18"></td><td><pre>            <span class="token string">"Restarting"</span><span class="token builtin class-name">:</span> false,</pre></td></tr><tr><td data-num="19"></td><td><pre>            <span class="token string">"OOMKilled"</span><span class="token builtin class-name">:</span> false,</pre></td></tr><tr><td data-num="20"></td><td><pre>            <span class="token string">"Dead"</span><span class="token builtin class-name">:</span> false,</pre></td></tr><tr><td data-num="21"></td><td><pre>            <span class="token string">"Pid"</span><span class="token builtin class-name">:</span> <span class="token number">130102</span>,</pre></td></tr><tr><td data-num="22"></td><td><pre>            <span class="token string">"ExitCode"</span><span class="token builtin class-name">:</span> <span class="token number">0</span>,</pre></td></tr><tr><td data-num="23"></td><td><pre>            <span class="token string">"Error"</span><span class="token builtin class-name">:</span> <span class="token string">""</span>,</pre></td></tr><tr><td data-num="24"></td><td><pre>            <span class="token string">"StartedAt"</span><span class="token builtin class-name">:</span> <span class="token string">"2021-06-18T02:46:48.519148447Z"</span>,</pre></td></tr><tr><td data-num="25"></td><td><pre>            <span class="token string">"FinishedAt"</span><span class="token builtin class-name">:</span> <span class="token string">"0001-01-01T00:00:00Z"</span></pre></td></tr><tr><td data-num="26"></td><td><pre>        <span class="token punctuation">&#125;</span>,</pre></td></tr><tr><td data-num="27"></td><td><pre>        <span class="token string">"Image"</span><span class="token builtin class-name">:</span> <span class="token string">"sha256:300e315adb2f96afe5f0b2780b87f28ae95231fe3bdd1e16b9ba606307728f55"</span>,</pre></td></tr><tr><td data-num="28"></td><td><pre>        <span class="token string">"ResolvConfPath"</span><span class="token builtin class-name">:</span> <span class="token string">"/var/lib/docker/containers/632215a985f86604fb0140c1cccfb91d218abaa0b97e143cb70868148beab7fd/resolv.conf"</span>,</pre></td></tr><tr><td data-num="29"></td><td><pre>        <span class="token string">"HostnamePath"</span><span class="token builtin class-name">:</span> <span class="token string">"/var/lib/docker/containers/632215a985f86604fb0140c1cccfb91d218abaa0b97e143cb70868148beab7fd/hostname"</span>,</pre></td></tr><tr><td data-num="30"></td><td><pre>        <span class="token string">"HostsPath"</span><span class="token builtin class-name">:</span> <span class="token string">"/var/lib/docker/containers/632215a985f86604fb0140c1cccfb91d218abaa0b97e143cb70868148beab7fd/hosts"</span>,</pre></td></tr><tr><td data-num="31"></td><td><pre>        <span class="token string">"LogPath"</span><span class="token builtin class-name">:</span> <span class="token string">"/var/lib/docker/containers/632215a985f86604fb0140c1cccfb91d218abaa0b97e143cb70868148beab7fd/632215a985f86604fb0140c1cccfb91d218abaa0b97e143cb70868148beab7fd-json.log"</span>,</pre></td></tr><tr><td data-num="32"></td><td><pre>        <span class="token string">"Name"</span><span class="token builtin class-name">:</span> <span class="token string">"/fervent_sutherland"</span>,</pre></td></tr><tr><td data-num="33"></td><td><pre>        <span class="token string">"RestartCount"</span><span class="token builtin class-name">:</span> <span class="token number">0</span>,</pre></td></tr><tr><td data-num="34"></td><td><pre>        <span class="token string">"Driver"</span><span class="token builtin class-name">:</span> <span class="token string">"overlay2"</span>,</pre></td></tr><tr><td data-num="35"></td><td><pre>        <span class="token string">"Platform"</span><span class="token builtin class-name">:</span> <span class="token string">"linux"</span>,</pre></td></tr><tr><td data-num="36"></td><td><pre>        <span class="token string">"MountLabel"</span><span class="token builtin class-name">:</span> <span class="token string">""</span>,</pre></td></tr><tr><td data-num="37"></td><td><pre>        <span class="token string">"ProcessLabel"</span><span class="token builtin class-name">:</span> <span class="token string">""</span>,</pre></td></tr><tr><td data-num="38"></td><td><pre>        <span class="token string">"AppArmorProfile"</span><span class="token builtin class-name">:</span> <span class="token string">""</span>,</pre></td></tr><tr><td data-num="39"></td><td><pre>        <span class="token string">"ExecIDs"</span><span class="token builtin class-name">:</span> null,</pre></td></tr><tr><td data-num="40"></td><td><pre>        <span class="token string">"HostConfig"</span><span class="token builtin class-name">:</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="41"></td><td><pre>            <span class="token string">"Binds"</span><span class="token builtin class-name">:</span> null,</pre></td></tr><tr><td data-num="42"></td><td><pre>            <span class="token string">"ContainerIDFile"</span><span class="token builtin class-name">:</span> <span class="token string">""</span>,</pre></td></tr><tr><td data-num="43"></td><td><pre>            <span class="token string">"LogConfig"</span><span class="token builtin class-name">:</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="44"></td><td><pre>                <span class="token string">"Type"</span><span class="token builtin class-name">:</span> <span class="token string">"json-file"</span>,</pre></td></tr><tr><td data-num="45"></td><td><pre>                <span class="token string">"Config"</span><span class="token builtin class-name">:</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="46"></td><td><pre>            <span class="token punctuation">&#125;</span>,</pre></td></tr><tr><td data-num="47"></td><td><pre>            <span class="token string">"NetworkMode"</span><span class="token builtin class-name">:</span> <span class="token string">"default"</span>,</pre></td></tr><tr><td data-num="48"></td><td><pre>            <span class="token string">"PortBindings"</span><span class="token builtin class-name">:</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>,</pre></td></tr><tr><td data-num="49"></td><td><pre>            <span class="token string">"RestartPolicy"</span><span class="token builtin class-name">:</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="50"></td><td><pre>                <span class="token string">"Name"</span><span class="token builtin class-name">:</span> <span class="token string">"no"</span>,</pre></td></tr><tr><td data-num="51"></td><td><pre>                <span class="token string">"MaximumRetryCount"</span><span class="token builtin class-name">:</span> <span class="token number">0</span></pre></td></tr><tr><td data-num="52"></td><td><pre>            <span class="token punctuation">&#125;</span>,</pre></td></tr><tr><td data-num="53"></td><td><pre>            <span class="token string">"AutoRemove"</span><span class="token builtin class-name">:</span> false,</pre></td></tr><tr><td data-num="54"></td><td><pre>            <span class="token string">"VolumeDriver"</span><span class="token builtin class-name">:</span> <span class="token string">""</span>,</pre></td></tr><tr><td data-num="55"></td><td><pre>            <span class="token string">"VolumesFrom"</span><span class="token builtin class-name">:</span> null,</pre></td></tr><tr><td data-num="56"></td><td><pre>            <span class="token string">"CapAdd"</span><span class="token builtin class-name">:</span> null,</pre></td></tr><tr><td data-num="57"></td><td><pre>            <span class="token string">"CapDrop"</span><span class="token builtin class-name">:</span> null,</pre></td></tr><tr><td data-num="58"></td><td><pre>            <span class="token string">"CgroupnsMode"</span><span class="token builtin class-name">:</span> <span class="token string">"host"</span>,</pre></td></tr><tr><td data-num="59"></td><td><pre>            <span class="token string">"Dns"</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>,</pre></td></tr><tr><td data-num="60"></td><td><pre>            <span class="token string">"DnsOptions"</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>,</pre></td></tr><tr><td data-num="61"></td><td><pre>            <span class="token string">"DnsSearch"</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>,</pre></td></tr><tr><td data-num="62"></td><td><pre>            <span class="token string">"ExtraHosts"</span><span class="token builtin class-name">:</span> null,</pre></td></tr><tr><td data-num="63"></td><td><pre>            <span class="token string">"GroupAdd"</span><span class="token builtin class-name">:</span> null,</pre></td></tr><tr><td data-num="64"></td><td><pre>            <span class="token string">"IpcMode"</span><span class="token builtin class-name">:</span> <span class="token string">"private"</span>,</pre></td></tr><tr><td data-num="65"></td><td><pre>            <span class="token string">"Cgroup"</span><span class="token builtin class-name">:</span> <span class="token string">""</span>,</pre></td></tr><tr><td data-num="66"></td><td><pre>            <span class="token string">"Links"</span><span class="token builtin class-name">:</span> null,</pre></td></tr><tr><td data-num="67"></td><td><pre>            <span class="token string">"OomScoreAdj"</span><span class="token builtin class-name">:</span> <span class="token number">0</span>,</pre></td></tr><tr><td data-num="68"></td><td><pre>            <span class="token string">"PidMode"</span><span class="token builtin class-name">:</span> <span class="token string">""</span>,</pre></td></tr><tr><td data-num="69"></td><td><pre>            <span class="token string">"Privileged"</span><span class="token builtin class-name">:</span> false,</pre></td></tr><tr><td data-num="70"></td><td><pre>            <span class="token string">"PublishAllPorts"</span><span class="token builtin class-name">:</span> false,</pre></td></tr><tr><td data-num="71"></td><td><pre>            <span class="token string">"ReadonlyRootfs"</span><span class="token builtin class-name">:</span> false,</pre></td></tr><tr><td data-num="72"></td><td><pre>            <span class="token string">"SecurityOpt"</span><span class="token builtin class-name">:</span> null,</pre></td></tr><tr><td data-num="73"></td><td><pre>            <span class="token string">"UTSMode"</span><span class="token builtin class-name">:</span> <span class="token string">""</span>,</pre></td></tr><tr><td data-num="74"></td><td><pre>            <span class="token string">"UsernsMode"</span><span class="token builtin class-name">:</span> <span class="token string">""</span>,</pre></td></tr><tr><td data-num="75"></td><td><pre>            <span class="token string">"ShmSize"</span><span class="token builtin class-name">:</span> <span class="token number">67108864</span>,</pre></td></tr><tr><td data-num="76"></td><td><pre>            <span class="token string">"Runtime"</span><span class="token builtin class-name">:</span> <span class="token string">"runc"</span>,</pre></td></tr><tr><td data-num="77"></td><td><pre>            <span class="token string">"ConsoleSize"</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span></pre></td></tr><tr><td data-num="78"></td><td><pre>                <span class="token number">0</span>,</pre></td></tr><tr><td data-num="79"></td><td><pre>                <span class="token number">0</span></pre></td></tr><tr><td data-num="80"></td><td><pre>            <span class="token punctuation">]</span>,</pre></td></tr><tr><td data-num="81"></td><td><pre>            <span class="token string">"Isolation"</span><span class="token builtin class-name">:</span> <span class="token string">""</span>,</pre></td></tr><tr><td data-num="82"></td><td><pre>            <span class="token string">"CpuShares"</span><span class="token builtin class-name">:</span> <span class="token number">0</span>,</pre></td></tr><tr><td data-num="83"></td><td><pre>            <span class="token string">"Memory"</span><span class="token builtin class-name">:</span> <span class="token number">0</span>,</pre></td></tr><tr><td data-num="84"></td><td><pre>            <span class="token string">"NanoCpus"</span><span class="token builtin class-name">:</span> <span class="token number">0</span>,</pre></td></tr><tr><td data-num="85"></td><td><pre>            <span class="token string">"CgroupParent"</span><span class="token builtin class-name">:</span> <span class="token string">""</span>,</pre></td></tr><tr><td data-num="86"></td><td><pre>            <span class="token string">"BlkioWeight"</span><span class="token builtin class-name">:</span> <span class="token number">0</span>,</pre></td></tr><tr><td data-num="87"></td><td><pre>            <span class="token string">"BlkioWeightDevice"</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>,</pre></td></tr><tr><td data-num="88"></td><td><pre>            <span class="token string">"BlkioDeviceReadBps"</span><span class="token builtin class-name">:</span> null,</pre></td></tr><tr><td data-num="89"></td><td><pre>            <span class="token string">"BlkioDeviceWriteBps"</span><span class="token builtin class-name">:</span> null,</pre></td></tr><tr><td data-num="90"></td><td><pre>            <span class="token string">"BlkioDeviceReadIOps"</span><span class="token builtin class-name">:</span> null,</pre></td></tr><tr><td data-num="91"></td><td><pre>            <span class="token string">"BlkioDeviceWriteIOps"</span><span class="token builtin class-name">:</span> null,</pre></td></tr><tr><td data-num="92"></td><td><pre>            <span class="token string">"CpuPeriod"</span><span class="token builtin class-name">:</span> <span class="token number">0</span>,</pre></td></tr><tr><td data-num="93"></td><td><pre>            <span class="token string">"CpuQuota"</span><span class="token builtin class-name">:</span> <span class="token number">0</span>,</pre></td></tr><tr><td data-num="94"></td><td><pre>            <span class="token string">"CpuRealtimePeriod"</span><span class="token builtin class-name">:</span> <span class="token number">0</span>,</pre></td></tr><tr><td data-num="95"></td><td><pre>            <span class="token string">"CpuRealtimeRuntime"</span><span class="token builtin class-name">:</span> <span class="token number">0</span>,</pre></td></tr><tr><td data-num="96"></td><td><pre>            <span class="token string">"CpusetCpus"</span><span class="token builtin class-name">:</span> <span class="token string">""</span>,</pre></td></tr><tr><td data-num="97"></td><td><pre>            <span class="token string">"CpusetMems"</span><span class="token builtin class-name">:</span> <span class="token string">""</span>,</pre></td></tr><tr><td data-num="98"></td><td><pre>            <span class="token string">"Devices"</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>,</pre></td></tr><tr><td data-num="99"></td><td><pre>            <span class="token string">"DeviceCgroupRules"</span><span class="token builtin class-name">:</span> null,</pre></td></tr><tr><td data-num="100"></td><td><pre>            <span class="token string">"DeviceRequests"</span><span class="token builtin class-name">:</span> null,</pre></td></tr><tr><td data-num="101"></td><td><pre>            <span class="token string">"KernelMemory"</span><span class="token builtin class-name">:</span> <span class="token number">0</span>,</pre></td></tr><tr><td data-num="102"></td><td><pre>            <span class="token string">"KernelMemoryTCP"</span><span class="token builtin class-name">:</span> <span class="token number">0</span>,</pre></td></tr><tr><td data-num="103"></td><td><pre>            <span class="token string">"MemoryReservation"</span><span class="token builtin class-name">:</span> <span class="token number">0</span>,</pre></td></tr><tr><td data-num="104"></td><td><pre>            <span class="token string">"MemorySwap"</span><span class="token builtin class-name">:</span> <span class="token number">0</span>,</pre></td></tr><tr><td data-num="105"></td><td><pre>            <span class="token string">"MemorySwappiness"</span><span class="token builtin class-name">:</span> null,</pre></td></tr><tr><td data-num="106"></td><td><pre>            <span class="token string">"OomKillDisable"</span><span class="token builtin class-name">:</span> false,</pre></td></tr><tr><td data-num="107"></td><td><pre>            <span class="token string">"PidsLimit"</span><span class="token builtin class-name">:</span> null,</pre></td></tr><tr><td data-num="108"></td><td><pre>            <span class="token string">"Ulimits"</span><span class="token builtin class-name">:</span> null,</pre></td></tr><tr><td data-num="109"></td><td><pre>            <span class="token string">"CpuCount"</span><span class="token builtin class-name">:</span> <span class="token number">0</span>,</pre></td></tr><tr><td data-num="110"></td><td><pre>            <span class="token string">"CpuPercent"</span><span class="token builtin class-name">:</span> <span class="token number">0</span>,</pre></td></tr><tr><td data-num="111"></td><td><pre>            <span class="token string">"IOMaximumIOps"</span><span class="token builtin class-name">:</span> <span class="token number">0</span>,</pre></td></tr><tr><td data-num="112"></td><td><pre>            <span class="token string">"IOMaximumBandwidth"</span><span class="token builtin class-name">:</span> <span class="token number">0</span>,</pre></td></tr><tr><td data-num="113"></td><td><pre>            <span class="token string">"MaskedPaths"</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span></pre></td></tr><tr><td data-num="114"></td><td><pre>                <span class="token string">"/proc/asound"</span>,</pre></td></tr><tr><td data-num="115"></td><td><pre>                <span class="token string">"/proc/acpi"</span>,</pre></td></tr><tr><td data-num="116"></td><td><pre>                <span class="token string">"/proc/kcore"</span>,</pre></td></tr><tr><td data-num="117"></td><td><pre>                <span class="token string">"/proc/keys"</span>,</pre></td></tr><tr><td data-num="118"></td><td><pre>                <span class="token string">"/proc/latency_stats"</span>,</pre></td></tr><tr><td data-num="119"></td><td><pre>                <span class="token string">"/proc/timer_list"</span>,</pre></td></tr><tr><td data-num="120"></td><td><pre>                <span class="token string">"/proc/timer_stats"</span>,</pre></td></tr><tr><td data-num="121"></td><td><pre>                <span class="token string">"/proc/sched_debug"</span>,</pre></td></tr><tr><td data-num="122"></td><td><pre>                <span class="token string">"/proc/scsi"</span>,</pre></td></tr><tr><td data-num="123"></td><td><pre>                <span class="token string">"/sys/firmware"</span></pre></td></tr><tr><td data-num="124"></td><td><pre>            <span class="token punctuation">]</span>,</pre></td></tr><tr><td data-num="125"></td><td><pre>            <span class="token string">"ReadonlyPaths"</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span></pre></td></tr><tr><td data-num="126"></td><td><pre>                <span class="token string">"/proc/bus"</span>,</pre></td></tr><tr><td data-num="127"></td><td><pre>                <span class="token string">"/proc/fs"</span>,</pre></td></tr><tr><td data-num="128"></td><td><pre>                <span class="token string">"/proc/irq"</span>,</pre></td></tr><tr><td data-num="129"></td><td><pre>                <span class="token string">"/proc/sys"</span>,</pre></td></tr><tr><td data-num="130"></td><td><pre>                <span class="token string">"/proc/sysrq-trigger"</span></pre></td></tr><tr><td data-num="131"></td><td><pre>            <span class="token punctuation">]</span></pre></td></tr><tr><td data-num="132"></td><td><pre>        <span class="token punctuation">&#125;</span>,</pre></td></tr><tr><td data-num="133"></td><td><pre>        <span class="token string">"GraphDriver"</span><span class="token builtin class-name">:</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="134"></td><td><pre>            <span class="token string">"Data"</span><span class="token builtin class-name">:</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="135"></td><td><pre>                <span class="token string">"LowerDir"</span><span class="token builtin class-name">:</span> <span class="token string">"/var/lib/docker/overlay2/de124c2876dc50d329be43cecdffa6bb6687e99e5fa8623c0ea2c618387c821a-init/diff:/var/lib/docker/overlay2/99d95899194b53d6ee714912494fc15576f0712ab2077192fe7061696325fe9d/diff"</span>,</pre></td></tr><tr><td data-num="136"></td><td><pre>                <span class="token string">"MergedDir"</span><span class="token builtin class-name">:</span> <span class="token string">"/var/lib/docker/overlay2/de124c2876dc50d329be43cecdffa6bb6687e99e5fa8623c0ea2c618387c821a/merged"</span>,</pre></td></tr><tr><td data-num="137"></td><td><pre>                <span class="token string">"UpperDir"</span><span class="token builtin class-name">:</span> <span class="token string">"/var/lib/docker/overlay2/de124c2876dc50d329be43cecdffa6bb6687e99e5fa8623c0ea2c618387c821a/diff"</span>,</pre></td></tr><tr><td data-num="138"></td><td><pre>                <span class="token string">"WorkDir"</span><span class="token builtin class-name">:</span> <span class="token string">"/var/lib/docker/overlay2/de124c2876dc50d329be43cecdffa6bb6687e99e5fa8623c0ea2c618387c821a/work"</span></pre></td></tr><tr><td data-num="139"></td><td><pre>            <span class="token punctuation">&#125;</span>,</pre></td></tr><tr><td data-num="140"></td><td><pre>            <span class="token string">"Name"</span><span class="token builtin class-name">:</span> <span class="token string">"overlay2"</span></pre></td></tr><tr><td data-num="141"></td><td><pre>        <span class="token punctuation">&#125;</span>,</pre></td></tr><tr><td data-num="142"></td><td><pre>        <span class="token string">"Mounts"</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>,</pre></td></tr><tr><td data-num="143"></td><td><pre>        <span class="token string">"Config"</span><span class="token builtin class-name">:</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="144"></td><td><pre>            <span class="token string">"Hostname"</span><span class="token builtin class-name">:</span> <span class="token string">"632215a985f8"</span>,</pre></td></tr><tr><td data-num="145"></td><td><pre>            <span class="token string">"Domainname"</span><span class="token builtin class-name">:</span> <span class="token string">""</span>,</pre></td></tr><tr><td data-num="146"></td><td><pre>            <span class="token string">"User"</span><span class="token builtin class-name">:</span> <span class="token string">""</span>,</pre></td></tr><tr><td data-num="147"></td><td><pre>            <span class="token string">"AttachStdin"</span><span class="token builtin class-name">:</span> false,</pre></td></tr><tr><td data-num="148"></td><td><pre>            <span class="token string">"AttachStdout"</span><span class="token builtin class-name">:</span> false,</pre></td></tr><tr><td data-num="149"></td><td><pre>            <span class="token string">"AttachStderr"</span><span class="token builtin class-name">:</span> false,</pre></td></tr><tr><td data-num="150"></td><td><pre>            <span class="token string">"Tty"</span><span class="token builtin class-name">:</span> false,</pre></td></tr><tr><td data-num="151"></td><td><pre>            <span class="token string">"OpenStdin"</span><span class="token builtin class-name">:</span> false,</pre></td></tr><tr><td data-num="152"></td><td><pre>            <span class="token string">"StdinOnce"</span><span class="token builtin class-name">:</span> false,</pre></td></tr><tr><td data-num="153"></td><td><pre>            <span class="token string">"Env"</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span></pre></td></tr><tr><td data-num="154"></td><td><pre>                <span class="token string">"PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin"</span></pre></td></tr><tr><td data-num="155"></td><td><pre>            <span class="token punctuation">]</span>,</pre></td></tr><tr><td data-num="156"></td><td><pre>            <span class="token string">"Cmd"</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span></pre></td></tr><tr><td data-num="157"></td><td><pre>                <span class="token string">"/bin/sh"</span>,</pre></td></tr><tr><td data-num="158"></td><td><pre>                <span class="token string">"-c"</span>,</pre></td></tr><tr><td data-num="159"></td><td><pre>                <span class="token string">"while true;do echo yanan;sleep 1;done"</span></pre></td></tr><tr><td data-num="160"></td><td><pre>            <span class="token punctuation">]</span>,</pre></td></tr><tr><td data-num="161"></td><td><pre>            <span class="token string">"Image"</span><span class="token builtin class-name">:</span> <span class="token string">"centos"</span>,</pre></td></tr><tr><td data-num="162"></td><td><pre>            <span class="token string">"Volumes"</span><span class="token builtin class-name">:</span> null,</pre></td></tr><tr><td data-num="163"></td><td><pre>            <span class="token string">"WorkingDir"</span><span class="token builtin class-name">:</span> <span class="token string">""</span>,</pre></td></tr><tr><td data-num="164"></td><td><pre>            <span class="token string">"Entrypoint"</span><span class="token builtin class-name">:</span> null,</pre></td></tr><tr><td data-num="165"></td><td><pre>            <span class="token string">"OnBuild"</span><span class="token builtin class-name">:</span> null,</pre></td></tr><tr><td data-num="166"></td><td><pre>            <span class="token string">"Labels"</span><span class="token builtin class-name">:</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="167"></td><td><pre>                <span class="token string">"org.label-schema.build-date"</span><span class="token builtin class-name">:</span> <span class="token string">"20201204"</span>,</pre></td></tr><tr><td data-num="168"></td><td><pre>                <span class="token string">"org.label-schema.license"</span><span class="token builtin class-name">:</span> <span class="token string">"GPLv2"</span>,</pre></td></tr><tr><td data-num="169"></td><td><pre>                <span class="token string">"org.label-schema.name"</span><span class="token builtin class-name">:</span> <span class="token string">"CentOS Base Image"</span>,</pre></td></tr><tr><td data-num="170"></td><td><pre>                <span class="token string">"org.label-schema.schema-version"</span><span class="token builtin class-name">:</span> <span class="token string">"1.0"</span>,</pre></td></tr><tr><td data-num="171"></td><td><pre>                <span class="token string">"org.label-schema.vendor"</span><span class="token builtin class-name">:</span> <span class="token string">"CentOS"</span></pre></td></tr><tr><td data-num="172"></td><td><pre>            <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="173"></td><td><pre>        <span class="token punctuation">&#125;</span>,</pre></td></tr><tr><td data-num="174"></td><td><pre>        <span class="token string">"NetworkSettings"</span><span class="token builtin class-name">:</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="175"></td><td><pre>            <span class="token string">"Bridge"</span><span class="token builtin class-name">:</span> <span class="token string">""</span>,</pre></td></tr><tr><td data-num="176"></td><td><pre>            <span class="token string">"SandboxID"</span><span class="token builtin class-name">:</span> <span class="token string">"b74dbfc943b00745c34506e0c5e60da5115ef4cf1939be0f00a436044db9d0dc"</span>,</pre></td></tr><tr><td data-num="177"></td><td><pre>            <span class="token string">"HairpinMode"</span><span class="token builtin class-name">:</span> false,</pre></td></tr><tr><td data-num="178"></td><td><pre>            <span class="token string">"LinkLocalIPv6Address"</span><span class="token builtin class-name">:</span> <span class="token string">""</span>,</pre></td></tr><tr><td data-num="179"></td><td><pre>            <span class="token string">"LinkLocalIPv6PrefixLen"</span><span class="token builtin class-name">:</span> <span class="token number">0</span>,</pre></td></tr><tr><td data-num="180"></td><td><pre>            <span class="token string">"Ports"</span><span class="token builtin class-name">:</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>,</pre></td></tr><tr><td data-num="181"></td><td><pre>            <span class="token string">"SandboxKey"</span><span class="token builtin class-name">:</span> <span class="token string">"/var/run/docker/netns/b74dbfc943b0"</span>,</pre></td></tr><tr><td data-num="182"></td><td><pre>            <span class="token string">"SecondaryIPAddresses"</span><span class="token builtin class-name">:</span> null,</pre></td></tr><tr><td data-num="183"></td><td><pre>            <span class="token string">"SecondaryIPv6Addresses"</span><span class="token builtin class-name">:</span> null,</pre></td></tr><tr><td data-num="184"></td><td><pre>            <span class="token string">"EndpointID"</span><span class="token builtin class-name">:</span> <span class="token string">"5a814cb0d1f0e15c7cdd6b4c12d0ad0694e6c024b8b21af3ed8efecdd51bd312"</span>,</pre></td></tr><tr><td data-num="185"></td><td><pre>            <span class="token string">"Gateway"</span><span class="token builtin class-name">:</span> <span class="token string">"172.17.0.1"</span>,</pre></td></tr><tr><td data-num="186"></td><td><pre>            <span class="token string">"GlobalIPv6Address"</span><span class="token builtin class-name">:</span> <span class="token string">""</span>,</pre></td></tr><tr><td data-num="187"></td><td><pre>            <span class="token string">"GlobalIPv6PrefixLen"</span><span class="token builtin class-name">:</span> <span class="token number">0</span>,</pre></td></tr><tr><td data-num="188"></td><td><pre>            <span class="token string">"IPAddress"</span><span class="token builtin class-name">:</span> <span class="token string">"172.17.0.3"</span>,</pre></td></tr><tr><td data-num="189"></td><td><pre>            <span class="token string">"IPPrefixLen"</span><span class="token builtin class-name">:</span> <span class="token number">16</span>,</pre></td></tr><tr><td data-num="190"></td><td><pre>            <span class="token string">"IPv6Gateway"</span><span class="token builtin class-name">:</span> <span class="token string">""</span>,</pre></td></tr><tr><td data-num="191"></td><td><pre>            <span class="token string">"MacAddress"</span><span class="token builtin class-name">:</span> <span class="token string">"02:42:ac:11:00:03"</span>,</pre></td></tr><tr><td data-num="192"></td><td><pre>            <span class="token string">"Networks"</span><span class="token builtin class-name">:</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="193"></td><td><pre>                <span class="token string">"bridge"</span><span class="token builtin class-name">:</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="194"></td><td><pre>                    <span class="token string">"IPAMConfig"</span><span class="token builtin class-name">:</span> null,</pre></td></tr><tr><td data-num="195"></td><td><pre>                    <span class="token string">"Links"</span><span class="token builtin class-name">:</span> null,</pre></td></tr><tr><td data-num="196"></td><td><pre>                    <span class="token string">"Aliases"</span><span class="token builtin class-name">:</span> null,</pre></td></tr><tr><td data-num="197"></td><td><pre>                    <span class="token string">"NetworkID"</span><span class="token builtin class-name">:</span> <span class="token string">"cbf06a0493948171fe26ac9eb31e2584bac17d1aa55715470a3f478591125a77"</span>,</pre></td></tr><tr><td data-num="198"></td><td><pre>                    <span class="token string">"EndpointID"</span><span class="token builtin class-name">:</span> <span class="token string">"5a814cb0d1f0e15c7cdd6b4c12d0ad0694e6c024b8b21af3ed8efecdd51bd312"</span>,</pre></td></tr><tr><td data-num="199"></td><td><pre>                    <span class="token string">"Gateway"</span><span class="token builtin class-name">:</span> <span class="token string">"172.17.0.1"</span>,</pre></td></tr><tr><td data-num="200"></td><td><pre>                    <span class="token string">"IPAddress"</span><span class="token builtin class-name">:</span> <span class="token string">"172.17.0.3"</span>,</pre></td></tr><tr><td data-num="201"></td><td><pre>                    <span class="token string">"IPPrefixLen"</span><span class="token builtin class-name">:</span> <span class="token number">16</span>,</pre></td></tr><tr><td data-num="202"></td><td><pre>                    <span class="token string">"IPv6Gateway"</span><span class="token builtin class-name">:</span> <span class="token string">""</span>,</pre></td></tr><tr><td data-num="203"></td><td><pre>                    <span class="token string">"GlobalIPv6Address"</span><span class="token builtin class-name">:</span> <span class="token string">""</span>,</pre></td></tr><tr><td data-num="204"></td><td><pre>                    <span class="token string">"GlobalIPv6PrefixLen"</span><span class="token builtin class-name">:</span> <span class="token number">0</span>,</pre></td></tr><tr><td data-num="205"></td><td><pre>                    <span class="token string">"MacAddress"</span><span class="token builtin class-name">:</span> <span class="token string">"02:42:ac:11:00:03"</span>,</pre></td></tr><tr><td data-num="206"></td><td><pre>                    <span class="token string">"DriverOpts"</span><span class="token builtin class-name">:</span> null</pre></td></tr><tr><td data-num="207"></td><td><pre>                <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="208"></td><td><pre>            <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="209"></td><td><pre>        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="210"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="211"></td><td><pre><span class="token punctuation">]</span></pre></td></tr></table></figure><p><strong>进入当前正在运行的容器</strong></p><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment"># 我们通常容器都是使用后台方式运行的，需要进入容器，修改一些配置</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token comment"># 命令</span></pre></td></tr><tr><td data-num="3"></td><td><pre>docker <span class="token builtin class-name">exec</span> -it + 容器id /bin/bash</pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token comment"># 测试例子：</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token punctuation">[</span>root@yanan ~<span class="token punctuation">]</span><span class="token comment"># docker ps</span></pre></td></tr><tr><td data-num="6"></td><td><pre>CONTAINER ID   IMAGE     COMMAND                  CREATED             STATUS             PORTS     NAMES</pre></td></tr><tr><td data-num="7"></td><td><pre>632215a985f8   centos    <span class="token string">"/bin/sh -c 'while t…"</span>   <span class="token number">25</span> minutes ago      Up <span class="token number">25</span> minutes                fervent_sutherland</pre></td></tr><tr><td data-num="8"></td><td><pre>9625ad394ea0   centos    <span class="token string">"/bin/bash"</span>              About an hour ago   Up About an hour             silly_perlman</pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token punctuation">[</span>root@yanan ~<span class="token punctuation">]</span><span class="token comment"># docker exec -it 9625ad394ea0 /bin/bash</span></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token punctuation">[</span>root@9625ad394ea0 /<span class="token punctuation">]</span><span class="token comment"># ps -ef</span></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token environment constant">UID</span>          PID    <span class="token environment constant">PPID</span>  C STIME TTY          TIME CMD</pre></td></tr><tr><td data-num="12"></td><td><pre>root           <span class="token number">1</span>       <span class="token number">0</span>  <span class="token number">0</span> 01:43 pts/0    00:00:00 /bin/bash</pre></td></tr><tr><td data-num="13"></td><td><pre>root          <span class="token number">16</span>       <span class="token number">0</span>  <span class="token number">0</span> 03:12 pts/1    00:00:00 /bin/bash</pre></td></tr><tr><td data-num="14"></td><td><pre>root          <span class="token number">30</span>      <span class="token number">16</span>  <span class="token number">0</span> 03:13 pts/1    00:00:00 <span class="token function">ps</span> -ef</pre></td></tr><tr><td data-num="15"></td><td><pre></pre></td></tr><tr><td data-num="16"></td><td><pre><span class="token comment"># 方式二</span></pre></td></tr><tr><td data-num="17"></td><td><pre>docker attach + 容器id</pre></td></tr><tr><td data-num="18"></td><td><pre></pre></td></tr><tr><td data-num="19"></td><td><pre><span class="token comment"># docker exec		# 进入容器后开启一个新的终端，可以在里面操作（刚创建的容器）</span></pre></td></tr><tr><td data-num="20"></td><td><pre><span class="token comment"># docker attach		# 进入容器正在执行的终端，不会启动行的进程（正在运行的容器）</span></pre></td></tr></table></figure><p><strong>从容器内拷贝文件到主机上</strong></p><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre>docker <span class="token function">cp</span> + 容器id：容器内路径	目的的主机路径</pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token comment"># 查看当前主机的进程</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token punctuation">[</span>root@yanan home<span class="token punctuation">]</span><span class="token comment"># docker ps</span></pre></td></tr><tr><td data-num="4"></td><td><pre>CONTAINER ID   IMAGE     COMMAND       CREATED         STATUS         PORTS     NAMES</pre></td></tr><tr><td data-num="5"></td><td><pre>dd3b2ccc9c13   centos    <span class="token string">"/bin/bash"</span>   <span class="token number">3</span> minutes ago   Up <span class="token number">3</span> minutes             xenodochial_taussig</pre></td></tr><tr><td data-num="6"></td><td><pre></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token comment"># 进入 docker 容器内部在容器内建一个文件</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token punctuation">[</span>root@yanan home<span class="token punctuation">]</span><span class="token comment"># docker attach dd3b2ccc9c13</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token punctuation">[</span>root@dd3b2ccc9c13 home<span class="token punctuation">]</span><span class="token comment"># touch test.java</span></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token punctuation">[</span>root@dd3b2ccc9c13 home<span class="token punctuation">]</span><span class="token comment"># ls  </span></pre></td></tr><tr><td data-num="11"></td><td><pre>test.java</pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token punctuation">[</span>root@dd3b2ccc9c13 home<span class="token punctuation">]</span><span class="token comment"># exit</span></pre></td></tr><tr><td data-num="13"></td><td><pre><span class="token builtin class-name">exit</span></pre></td></tr><tr><td data-num="14"></td><td><pre><span class="token comment"># 将文件拷贝到我们的主机上。</span></pre></td></tr><tr><td data-num="15"></td><td><pre><span class="token punctuation">[</span>root@yanan home<span class="token punctuation">]</span><span class="token comment"># docker cp dd3b2ccc9c13:/home/test.java /home</span></pre></td></tr><tr><td data-num="16"></td><td><pre><span class="token comment"># docker cp 容器 id: + 需要拷贝的文件路径 + 需要拷贝的主机目录（这里是 /home）。</span></pre></td></tr><tr><td data-num="17"></td><td><pre><span class="token punctuation">[</span>root@yanan home<span class="token punctuation">]</span><span class="token comment"># ls</span></pre></td></tr><tr><td data-num="18"></td><td><pre>test.java  yanan.java</pre></td></tr><tr><td data-num="19"></td><td><pre></pre></td></tr><tr><td data-num="20"></td><td><pre><span class="token comment">#拷贝是一个手动过程，未来我们使用 -v 卷的技术，可以实现，自动同步，主机上的 /home  和  容器上的 /home 、自动备份。</span></pre></td></tr></table></figure><h2 id="练习"><a class="anchor" href="#练习">#</a> 练习</h2><blockquote><p>Docker 安装 Nginx</p></blockquote><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment"># 搜索镜像 search 建议去 docker 官网搜索，可以看到帮助文档</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token comment"># 下载镜像	pull</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token comment"># 运行测试 </span></pre></td></tr><tr><td data-num="4"></td><td><pre>docker pull nginx</pre></td></tr><tr><td data-num="5"></td><td><pre>docker run -d --name nginx01 -p <span class="token number">3344</span>:80 nginx</pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token comment"># 注释：使用 docker 运行下载的 docker --name，是给镜像命名，默认的话， 不用写。这里给他重命为 nginx01。-p，暴露一个端口号，暴露一个 3344 的端口号。后面加上 nginx。启动 nginx</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token comment"># -d 后台运行</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token comment"># --name	给容器命令</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token comment"># -p	暴露端口，宿主机，容器内部端口。</span></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token punctuation">[</span>root@yanan /<span class="token punctuation">]</span><span class="token comment"># docker images</span></pre></td></tr><tr><td data-num="11"></td><td><pre>REPOSITORY   TAG       IMAGE ID       CREATED        SIZE</pre></td></tr><tr><td data-num="12"></td><td><pre>nginx        latest    d1a364dc548d   <span class="token number">3</span> weeks ago    133MB	<span class="token comment"># 刚拉取下载的 nginx</span></pre></td></tr><tr><td data-num="13"></td><td><pre>mysql        latest    c0cdc95609f1   <span class="token number">5</span> weeks ago    556MB</pre></td></tr><tr><td data-num="14"></td><td><pre>centos       latest    300e315adb2f   <span class="token number">6</span> months ago   209MB</pre></td></tr><tr><td data-num="15"></td><td><pre></pre></td></tr><tr><td data-num="16"></td><td><pre><span class="token comment"># 进入容器</span></pre></td></tr><tr><td data-num="17"></td><td><pre><span class="token punctuation">[</span>root@yanan ~<span class="token punctuation">]</span><span class="token comment"># docker exec -it nginx01 /bin/bash</span></pre></td></tr><tr><td data-num="18"></td><td><pre>root@10e221d799fd:/<span class="token comment"># whereis nginx</span></pre></td></tr><tr><td data-num="19"></td><td><pre>nginx: /usr/sbin/nginx /usr/lib/nginx /etc/nginx /usr/share/nginx</pre></td></tr><tr><td data-num="20"></td><td><pre>root@10e221d799fd:/<span class="token comment"># cd /etc/nginx/</span></pre></td></tr><tr><td data-num="21"></td><td><pre>root@10e221d799fd:/etc/nginx<span class="token comment"># ls</span></pre></td></tr><tr><td data-num="22"></td><td><pre>conf.d	fastcgi_params	mime.types  modules  nginx.conf  scgi_params  uwsgi_params</pre></td></tr><tr><td data-num="23"></td><td><pre><span class="token comment"># 这里就会有正常的 nginx 的配置.conf 配置文件。</span></pre></td></tr></table></figure><p><img data-src="E:%5CLklyx.github.io%5Csource_posts%5CGrowth-Diary%5C%E6%89%A9%E5%B1%95%E7%9F%A5%E8%AF%86%5CDocker%5Cimage%5C2.png" alt="image-20210621132859097"></p><p>思考问题：我们每次改动 nginx 配置文件，都需要进入容器内部？十分麻烦，我要是可以在容器外部提供一个映射路径，达到在容器修改文件名，容器内部就可以自动修改？-v 数据卷！</p><blockquote><p>作业：使用 docker 装一个 tomcat。</p></blockquote><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment"># 官方使用</span></pre></td></tr><tr><td data-num="2"></td><td><pre>docker run -it --rm tomcat:9.0</pre></td></tr><tr><td data-num="3"></td><td><pre></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token comment"># 我们之前的启动都是后台，停止了容器之后，容器还可以查到。docker run -it --rm 。这个是用来测试，用完就删除。</span></pre></td></tr><tr><td data-num="5"></td><td><pre></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token comment"># 下载启动</span></pre></td></tr><tr><td data-num="7"></td><td><pre>docker pull tomcat</pre></td></tr><tr><td data-num="8"></td><td><pre></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token comment"># 启动运行</span></pre></td></tr><tr><td data-num="10"></td><td><pre>docker run -d -p <span class="token number">3355</span>:8080 --name tomcat01 tomcat</pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token comment"># 使用 docker 运行 tomcat，在后台环境下，暴露一个 3355:8080 端口 运行，重命名为 tomcat01</span></pre></td></tr><tr><td data-num="12"></td><td><pre></pre></td></tr><tr><td data-num="13"></td><td><pre><span class="token comment">#进入容器 docer exec -it + 容器名 /bin/bash</span></pre></td></tr><tr><td data-num="14"></td><td><pre><span class="token comment"># 问题：测试访问没有问题，但是显示的是 404 页面。是因为 docker 全部简化了。这样的话 webapps 里面没有东西。</span></pre></td></tr><tr><td data-num="15"></td><td><pre><span class="token comment"># 解决：我们复制 webapps.dist 里面的内容到 webapps 中，就可以正常显示 tomcat 页面了。</span></pre></td></tr><tr><td data-num="16"></td><td><pre> <span class="token function">cp</span> -r webapps.dist/* webapps <span class="token comment"># 赋值 webapps.dist/* 之下的所有目录，到 webapps 中。</span></pre></td></tr></table></figure><p>思考问题：我们以后部署项目，如果每次都要进入容器是不是十分麻烦？我要是可以在容器外部提供一个映射路径，webapps，我们在外部放置项目，就自动同步到内部就好了。</p><blockquote><p>作业：部署 es + kibana</p></blockquote><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment"># es 暴露的端口很多！</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token comment"># es 十分的耗内存</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token comment"># es 的数据一般需要防止到安全目录！挂载。</span></pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token comment"># 下载启动 elasticsearch</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token comment"># 加上 es 的配置。</span></pre></td></tr><tr><td data-num="7"></td><td><pre>docker run -d --name elasticsearch02 -p <span class="token number">9200</span>:9200 -p <span class="token number">9300</span>:9300 -e <span class="token string">"discovery.type=single-node"</span> -e <span class="token assign-left variable">ES_JAVA_OPTS</span><span class="token operator">=</span><span class="token string">"-Xms64m -Xmx512m"</span> elasticsearch:7.6.2</pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token comment"># -e ES_JAVA_OPTS="-Xms64m -Xmx512m" -e 限制一些基本运行的函数 ES_java 的环境，最小 64m。最大运行给他 512m</span></pre></td></tr><tr><td data-num="9"></td><td><pre></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token comment"># 测试一下 es 是否成功</span></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token punctuation">[</span>root@yanan ~<span class="token punctuation">]</span><span class="token comment"># curl localhost:9200</span></pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="13"></td><td><pre>  <span class="token string">"name"</span> <span class="token builtin class-name">:</span> <span class="token string">"901fb49e18c1"</span>,</pre></td></tr><tr><td data-num="14"></td><td><pre>  <span class="token string">"cluster_name"</span> <span class="token builtin class-name">:</span> <span class="token string">"docker-cluster"</span>,</pre></td></tr><tr><td data-num="15"></td><td><pre>  <span class="token string">"cluster_uuid"</span> <span class="token builtin class-name">:</span> <span class="token string">"lP5Q8aoyS2COdm9WoEbqrg"</span>,</pre></td></tr><tr><td data-num="16"></td><td><pre>  <span class="token string">"version"</span> <span class="token builtin class-name">:</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="17"></td><td><pre>    <span class="token string">"number"</span> <span class="token builtin class-name">:</span> <span class="token string">"7.6.2"</span>,</pre></td></tr><tr><td data-num="18"></td><td><pre>    <span class="token string">"build_flavor"</span> <span class="token builtin class-name">:</span> <span class="token string">"default"</span>,</pre></td></tr><tr><td data-num="19"></td><td><pre>    <span class="token string">"build_type"</span> <span class="token builtin class-name">:</span> <span class="token string">"docker"</span>,</pre></td></tr><tr><td data-num="20"></td><td><pre>    <span class="token string">"build_hash"</span> <span class="token builtin class-name">:</span> <span class="token string">"ef48eb35cf30adf4db14086e8aabd07ef6fb113f"</span>,</pre></td></tr><tr><td data-num="21"></td><td><pre>    <span class="token string">"build_date"</span> <span class="token builtin class-name">:</span> <span class="token string">"2020-03-26T06:34:37.794943Z"</span>,</pre></td></tr><tr><td data-num="22"></td><td><pre>    <span class="token string">"build_snapshot"</span> <span class="token builtin class-name">:</span> false,</pre></td></tr><tr><td data-num="23"></td><td><pre>    <span class="token string">"lucene_version"</span> <span class="token builtin class-name">:</span> <span class="token string">"8.4.0"</span>,</pre></td></tr><tr><td data-num="24"></td><td><pre>    <span class="token string">"minimum_wire_compatibility_version"</span> <span class="token builtin class-name">:</span> <span class="token string">"6.8.0"</span>,</pre></td></tr><tr><td data-num="25"></td><td><pre>    <span class="token string">"minimum_index_compatibility_version"</span> <span class="token builtin class-name">:</span> <span class="token string">"6.0.0-beta1"</span></pre></td></tr><tr><td data-num="26"></td><td><pre>  <span class="token punctuation">&#125;</span>,</pre></td></tr><tr><td data-num="27"></td><td><pre>  <span class="token string">"tagline"</span> <span class="token builtin class-name">:</span> <span class="token string">"You Know, for Search"</span></pre></td></tr><tr><td data-num="28"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><blockquote><p>查看 cpu 使用率</p><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre>docker stats</pre></td></tr></table></figure></blockquote><h2 id="可视化"><a class="anchor" href="#可视化">#</a> 可视化</h2><ul><li><p>portainer（先用这个）</p><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre>docker run -d -p <span class="token number">8088</span>:9000 <span class="token punctuation">\</span></pre></td></tr><tr><td data-num="2"></td><td><pre>--restart<span class="token operator">=</span>always -v/var/run/docker.sock:/var/run/docker.sock --privileged<span class="token operator">=</span>true portainer/portainer</pre></td></tr></table></figure></li><li><p>Eancher（CI、CD 再用）</p></li></ul><p><strong>什么是 Portainer？</strong></p><p>Docker 图形化界面管理工具！提供一个后台面板供我们操作！</p><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre>docker run -d -p <span class="token number">8088</span>:9000 <span class="token punctuation">\</span></pre></td></tr><tr><td data-num="2"></td><td><pre>--restart<span class="token operator">=</span>always -v/var/run/docker.sock:/var/run/docker.sock --privileged<span class="token operator">=</span>true portainer/portainer</pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token comment"># 这里需要去开通安全组的外网端口 8088</span></pre></td></tr></table></figure><p>访问测试。自己的 ip 加端口 8088</p><p>通过他来访问了：</p><p><img data-src="E:%5CLklyx.github.io%5Csource_posts%5CGrowth-Diary%5C%E6%89%A9%E5%B1%95%E7%9F%A5%E8%AF%86%5CDocker%5Cimage%5C3.png" alt="image-20210623100939079"></p><p>设置密码进入，我设置的为 <code>admin123</code></p><p>可视化面板我们平时不怎么使用，自己测试玩玩就可以了。</p><h1 id="docker镜像讲解"><a class="anchor" href="#docker镜像讲解">#</a> Docker 镜像讲解</h1><h2 id="镜像是什么"><a class="anchor" href="#镜像是什么">#</a> 镜像是什么？</h2><p>18 集、</p><h2 id="docker镜像加载原理"><a class="anchor" href="#docker镜像加载原理">#</a> Docker 镜像加载原理</h2><p>19 集、</p><h2 id="分层理解"><a class="anchor" href="#分层理解">#</a> 分层理解</h2><p>19 集、</p><h2 id="commit镜像"><a class="anchor" href="#commit镜像">#</a> commit 镜像</h2><p>docker commit 提交容器成为一个新的副本</p><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment"># 命令和 git 原理类似</span></pre></td></tr><tr><td data-num="2"></td><td><pre>docker commit -m<span class="token operator">=</span><span class="token string">"提交的描述信息"</span> -a<span class="token operator">=</span><span class="token string">"作者"</span> 容器ID 目标镜像名:<span class="token punctuation">[</span>Tag<span class="token punctuation">]</span></pre></td></tr></table></figure><p>实战测试：</p><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment"># 1、启动一个默认的 tomat</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token comment"># 2、发现这个默认的 tomcat 是没有 webapps 应用，镜像的原因，官方的镜像默认 webapps 下面是没有文件的！我们只好从 webapps.dist 文件中复制过去。这样就可以正常使用了。</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token comment"># 3、我自己拷贝进去了基本的文件</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token comment"># 4、将我们操作过的容器通过 commit 提交为一个镜像！我们以后就使用我们修改过的镜像即可，这就是我们自己的一个修改的镜像</span></pre></td></tr></table></figure><p><img data-src="E:%5CLklyx.github.io%5Csource_posts%5CGrowth-Diary%5C%E6%89%A9%E5%B1%95%E7%9F%A5%E8%AF%86%5CDocker%5Cimage%5C4.png" alt="image-20210623132839144"></p><p>到了这里，才算是 docker 入门！</p><h1 id="容器数据卷"><a class="anchor" href="#容器数据卷">#</a> 容器数据卷</h1><h2 id="什么是容器数据卷"><a class="anchor" href="#什么是容器数据卷">#</a> 什么是容器数据卷</h2><p><img data-src="E:%5CLklyx.github.io%5Csource_posts%5CGrowth-Diary%5C%E6%89%A9%E5%B1%95%E7%9F%A5%E8%AF%86%5CDocker%5Cimage%5C5.png" alt="image-20210623133945173"></p><p>总结一句话：容器的持久和同步操作！容器间也是可以数据共享的！</p><h2 id="使用数据卷"><a class="anchor" href="#使用数据卷">#</a> 使用数据卷</h2><blockquote><p>方式一：直接使用命令来挂载 -v</p></blockquote><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre>docker run -it -v</pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token comment"># -v 主机目录：容器内目录，做一个映射。</span></pre></td></tr><tr><td data-num="3"></td><td><pre></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token comment"># 测试：</span></pre></td></tr><tr><td data-num="5"></td><td><pre>docker run -it -v /home/ceshi:/home centos /bin/bash</pre></td></tr><tr><td data-num="6"></td><td><pre>-it <span class="token comment"># 在里面去执行</span></pre></td></tr><tr><td data-num="7"></td><td><pre>-v <span class="token comment"># 挂载</span></pre></td></tr><tr><td data-num="8"></td><td><pre>/home/ceshi:/home <span class="token comment"># /home/ceshi 是虚拟机上的测试目录。：跟容器里面的 /home 对应映射。</span></pre></td></tr><tr><td data-num="9"></td><td><pre>centos <span class="token comment"># 启动镜像</span></pre></td></tr><tr><td data-num="10"></td><td><pre></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token comment"># 启动起来时候我们可以通过 docker inspect + 容器 ID  查看具体信息。</span></pre></td></tr></table></figure><p><img data-src="E:%5CLklyx.github.io%5Csource_posts%5CGrowth-Diary%5C%E6%89%A9%E5%B1%95%E7%9F%A5%E8%AF%86%5CDocker%5Cimage%5C6.png" alt></p><p>测试文件的同步</p><p><img data-src="E:%5CLklyx.github.io%5Csource_posts%5CGrowth-Diary%5C%E6%89%A9%E5%B1%95%E7%9F%A5%E8%AF%86%5CDocker%5Cimage%5C7.png" alt="image-20210623152819024"></p><p>再来测试：</p><ol><li>停止容器，不是删除，是停止，exit。退出，停止。</li><li>宿主机上修改文件</li><li>启动容器</li><li>容器内的数据依旧同步的</li></ol><p>好处：我们以后修改只需要在本地修改即可，容器内会自动同步。</p><h2 id="实战安装mysql"><a class="anchor" href="#实战安装mysql">#</a> 实战：安装 MySQL</h2><p>思考：MySQL 的数据持久的问题</p><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment"># 获取镜像</span></pre></td></tr><tr><td data-num="2"></td><td><pre>docker pull mysql:5.7</pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token comment"># 运行容器，需要做数据挂载！</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token comment"># 安装启动 mysql，是需要配置密码的，这是需要注意的点。官网的是这样的。</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token comment"># docker run --name some-mysql -v /my/custom:/etc/mysql/conf.d -e MYSQL_ROOT_PASSWORD=my-secret-pw -d mysql:5.7</span></pre></td></tr><tr><td data-num="6"></td><td><pre></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token comment"># 启动我们的 mysql</span></pre></td></tr><tr><td data-num="8"></td><td><pre>docker run -d -p <span class="token number">3310</span>:3306 -v /home/mysql/conf:/etc/mysql/conf.d -v /home/mysql/data:/var/lib/mysql -e <span class="token assign-left variable">MYSQL_ROOT_PASSWORD</span><span class="token operator">=</span><span class="token number">123456</span> --name mysql01 mysql:5.7</pre></td></tr><tr><td data-num="9"></td><td><pre>-d 后台运行</pre></td></tr><tr><td data-num="10"></td><td><pre>-p <span class="token number">3310</span>:3306	端口映射</pre></td></tr><tr><td data-num="11"></td><td><pre>-v /home/mysql/conf:/etc/mysql/conf.d	卷挂载，映射配置挂载</pre></td></tr><tr><td data-num="12"></td><td><pre>-v /home/mysql/data:/var/lib/mysql	卷挂载，映射数据挂载</pre></td></tr><tr><td data-num="13"></td><td><pre>-e <span class="token assign-left variable">MYSQL_ROOT_PASSWORD</span><span class="token operator">=</span><span class="token number">123456</span>	环境配置，配置mysql的密码。</pre></td></tr><tr><td data-num="14"></td><td><pre>--name mysql01 	容器的名字。</pre></td></tr><tr><td data-num="15"></td><td><pre>mysql:5.7 <span class="token comment"># 需要启动的名字加版本号</span></pre></td></tr><tr><td data-num="16"></td><td><pre></pre></td></tr><tr><td data-num="17"></td><td><pre><span class="token comment"># 启动成功以后，我们在本地使用 navcat 来测试一下， 记得在服务器配置 3310 端口</span></pre></td></tr><tr><td data-num="18"></td><td><pre><span class="token comment"># navcat - 连接到服务的 3310 --- 3310 和容器内的 3306 映射，这个是我们就可以连接上了！</span></pre></td></tr><tr><td data-num="19"></td><td><pre><span class="token comment"># 在本地创建一个数据库，查看我们的映射是否 ok！</span></pre></td></tr></table></figure><h2 id="具名挂载和匿名挂载"><a class="anchor" href="#具名挂载和匿名挂载">#</a> 具名挂载和匿名挂载</h2><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment"># 匿名挂载</span></pre></td></tr><tr><td data-num="2"></td><td><pre>-v 容器内路径！</pre></td></tr><tr><td data-num="3"></td><td><pre>docker run -d -P --name nginx01 -v /ect/nginx nginx</pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token comment"># 查看所有的 volume</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token punctuation">[</span>root@yanan data<span class="token punctuation">]</span><span class="token comment"># docker volume ls</span></pre></td></tr><tr><td data-num="7"></td><td><pre>DRIVER    VOLUME NAME</pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token builtin class-name">local</span>     0b8665fdb3d8541564c963d0d8ac06f3fc2443a9de1e2e94a5182ff886f6b22f</pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token builtin class-name">local</span>     3d9a65b7398b9c809a02eff681a9ede7065225bf918c376ac91094ac92664f57</pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token builtin class-name">local</span>     6e24a2ff87e1f4840d33e7427ee6b59b88c45d314e973f290146e43f625a7934</pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token builtin class-name">local</span>     7c6011f63bb4cc96a3b725d17c8b363962748f703a7c4ce8827b9717dea9efda</pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token builtin class-name">local</span>     8ca7d1ef73b3eeee67f8af2da4b9b6c43f989bda4837c8bfdf38fb55c8a0ab2f</pre></td></tr><tr><td data-num="13"></td><td><pre><span class="token builtin class-name">local</span>     9eee80503bf966349d4fefaa4b449942a81c252449fd0ad1471a30e43c20f454</pre></td></tr><tr><td data-num="14"></td><td><pre><span class="token builtin class-name">local</span>     58cf2baf4712c05dafc2b0a48aa8e36e12bc1e7e38fe41c9ea9d8ef16f478a11</pre></td></tr><tr><td data-num="15"></td><td><pre></pre></td></tr><tr><td data-num="16"></td><td><pre><span class="token comment"># 具名挂载</span></pre></td></tr><tr><td data-num="17"></td><td><pre><span class="token comment"># 通过 - v 卷名：容器内路径</span></pre></td></tr><tr><td data-num="18"></td><td><pre><span class="token comment"># 查看一下这个卷</span></pre></td></tr><tr><td data-num="19"></td><td><pre><span class="token builtin class-name">local</span>     bda56e90dc819b3bc9ba87e4c8ada55c05ba83c646e5f440b67adf32ff6c3d1c</pre></td></tr><tr><td data-num="20"></td><td><pre><span class="token builtin class-name">local</span>     dca55220d001343ea5ff1696176b9c18ebe5526c88f98cbbec21dbaed9376086</pre></td></tr><tr><td data-num="21"></td><td><pre><span class="token builtin class-name">local</span>     fe707bc573dfcb8cf1bc19553de1f09725c72ed11f1901038381f72503f660dd</pre></td></tr><tr><td data-num="22"></td><td><pre><span class="token builtin class-name">local</span>     juming-nginx</pre></td></tr><tr><td data-num="23"></td><td><pre><span class="token punctuation">[</span>root@yanan data<span class="token punctuation">]</span><span class="token comment"># docker volume inspect juming-nginx</span></pre></td></tr><tr><td data-num="24"></td><td><pre><span class="token punctuation">[</span></pre></td></tr><tr><td data-num="25"></td><td><pre>    <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="26"></td><td><pre>        <span class="token string">"CreatedAt"</span><span class="token builtin class-name">:</span> <span class="token string">"2021-06-24T13:16:54+08:00"</span>,</pre></td></tr><tr><td data-num="27"></td><td><pre>        <span class="token string">"Driver"</span><span class="token builtin class-name">:</span> <span class="token string">"local"</span>,</pre></td></tr><tr><td data-num="28"></td><td><pre>        <span class="token string">"Labels"</span><span class="token builtin class-name">:</span> null,</pre></td></tr><tr><td data-num="29"></td><td><pre>        <span class="token string">"Mountpoint"</span><span class="token builtin class-name">:</span> <span class="token string">"/var/lib/docker/volumes/juming-nginx/_data"</span>,</pre></td></tr><tr><td data-num="30"></td><td><pre>        <span class="token string">"Name"</span><span class="token builtin class-name">:</span> <span class="token string">"juming-nginx"</span>,</pre></td></tr><tr><td data-num="31"></td><td><pre>        <span class="token string">"Options"</span><span class="token builtin class-name">:</span> null,</pre></td></tr><tr><td data-num="32"></td><td><pre>        <span class="token string">"Scope"</span><span class="token builtin class-name">:</span> <span class="token string">"local"</span></pre></td></tr><tr><td data-num="33"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="34"></td><td><pre><span class="token punctuation">]</span></pre></td></tr></table></figure><p>所有的 docker 容器内的卷，没有指定目录的情况下，都是在 <code>/var/lib/docker/volumes/xxx/data</code></p><p>我们通过具名挂载可以方便的找到我们的一个卷，大多数情况都在使用的 <code>具名挂载</code></p><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment"># 如何确定是具名挂载还是匿名挂载，还是指定路径挂载！</span></pre></td></tr><tr><td data-num="2"></td><td><pre>-v 容器内路径	<span class="token comment"># 匿名挂载</span></pre></td></tr><tr><td data-num="3"></td><td><pre>-v 卷名：容器内路径		<span class="token comment"># 具名挂载</span></pre></td></tr><tr><td data-num="4"></td><td><pre>-v /宿主机路径:容器内路径		<span class="token comment"># 指定路径挂载</span></pre></td></tr></table></figure><p>拓展：</p><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment"># 通过 - v 容器内路径：ro rw 改变读写权限。</span></pre></td></tr><tr><td data-num="2"></td><td><pre>ro <span class="token builtin class-name">readonly</span> <span class="token comment"># 只读</span></pre></td></tr><tr><td data-num="3"></td><td><pre>rw readwrite <span class="token comment"># 可读可写</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token comment"># ro 只要看到 ro 就说明这个路径只能通过宿主机来操作，容器内部是无法操作！</span></pre></td></tr></table></figure><h2 id="初识dockerfile"><a class="anchor" href="#初识dockerfile">#</a> 初识 Dockerfile</h2><p>Dockerfile 就是用来构建 docker 镜像的构建文件！命令脚本！体验一下！</p><p>通过这个脚本可以生成镜像，镜像是一层一层的，脚本是一个个的命令，每个命令都是一层</p><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment"># 创建一个 dockerfile 文件，名字可以随机 建议 dockerfile</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token comment"># 文件中的内容 指令（大写）参数</span></pre></td></tr><tr><td data-num="3"></td><td><pre>FROM centos</pre></td></tr><tr><td data-num="4"></td><td><pre>VOLUME <span class="token punctuation">[</span><span class="token string">"volume01"</span>,<span class="token string">"volume02"</span><span class="token punctuation">]</span></pre></td></tr><tr><td data-num="5"></td><td><pre>CMD <span class="token builtin class-name">echo</span> <span class="token string">"---end----"</span></pre></td></tr><tr><td data-num="6"></td><td><pre>CMD /bin/bash</pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token comment"># 这里的每个命令，就是镜像的一层！</span></pre></td></tr></table></figure><blockquote><p>方式二：</p></blockquote><p><img data-src="E:%5CLklyx.github.io%5Csource_posts%5CGrowth-Diary%5C%E6%89%A9%E5%B1%95%E7%9F%A5%E8%AF%86%5CDocker%5Cimage%5C8.png" alt="image-20210625145050645"></p><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment"># 启动自己写的容器</span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre>run start + 容器id</pre></td></tr></table></figure><h2 id="dockerfile体系结构"><a class="anchor" href="#dockerfile体系结构">#</a> Dockerfile 体系结构</h2><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre>FROM	<span class="token comment"># 基础镜像，当前新镜像是基于那个镜像的</span></pre></td></tr><tr><td data-num="2"></td><td><pre>MAINTAINER	<span class="token comment"># 镜像维护者的姓名和邮箱地址</span></pre></td></tr><tr><td data-num="3"></td><td><pre>RUN		<span class="token comment"># 容器构建时需要运行的命令</span></pre></td></tr><tr><td data-num="4"></td><td><pre>EXPOSE 	 <span class="token comment"># 当前容器对外暴露的端口</span></pre></td></tr><tr><td data-num="5"></td><td><pre>WORKDIR 	<span class="token comment"># 指定在创建容器后，终端默认登录的工作目录。</span></pre></td></tr><tr><td data-num="6"></td><td><pre>ENV 	 <span class="token comment"># 用来在构建镜像过程中设置环境变量的</span></pre></td></tr><tr><td data-num="7"></td><td><pre>ADD 	<span class="token comment"># 将宿主机目录下的文件拷贝进镜像且 ADD 命令会自动处理 URL 和解压 tar 压缩包</span></pre></td></tr><tr><td data-num="8"></td><td><pre>COPY 	<span class="token comment"># 类似 ADD，拷贝文件到镜像目录中。</span></pre></td></tr><tr><td data-num="9"></td><td><pre>VOLUME 	<span class="token comment"># 容器数据卷，用于数据保存和持久化工作</span></pre></td></tr><tr><td data-num="10"></td><td><pre>CMD 	<span class="token comment">#  指定一个容器启动时要运行的命令，Dockerfile 可以有多个 CMD 指令，但只有最后一个生效，CMD 会被 docker run 之后的参数替换</span></pre></td></tr><tr><td data-num="11"></td><td><pre>ENTRYPOINT <span class="token comment"># 指定一个容器启动时要运行的命令，</span></pre></td></tr></table></figure><h1 id="自定义镜像"><a class="anchor" href="#自定义镜像">#</a> 自定义镜像</h1><h2 id="测试创建镜像"><a class="anchor" href="#测试创建镜像">#</a> 测试 — 创建镜像</h2><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre>FROM centos</pre></td></tr><tr><td data-num="2"></td><td><pre>ENV MYPATH /usr/local <span class="token comment"># 配置环境变量，就是安装的位置。</span></pre></td></tr><tr><td data-num="3"></td><td><pre>WORKDIR <span class="token variable">$MYPATH</span> <span class="token comment"># 工资目录也就是环境变量的目录</span></pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre>RUN yum -y <span class="token function">install</span> <span class="token function">vim</span> <span class="token comment"># 安装下载可以使用 vim 命令</span></pre></td></tr><tr><td data-num="6"></td><td><pre>RUN yum -y <span class="token function">install</span> net-tools <span class="token comment"># 安装下载可以使用 ifconfig 命令</span></pre></td></tr><tr><td data-num="7"></td><td><pre></pre></td></tr><tr><td data-num="8"></td><td><pre>EXPOSE <span class="token number">80</span> <span class="token comment"># 对外暴露的是 80 端口</span></pre></td></tr><tr><td data-num="9"></td><td><pre></pre></td></tr><tr><td data-num="10"></td><td><pre>CMD <span class="token builtin class-name">echo</span> <span class="token variable">$MYPATH</span></pre></td></tr><tr><td data-num="11"></td><td><pre>CMD ECHO “sucdess-------------------ok”</pre></td></tr><tr><td data-num="12"></td><td><pre>CMD /bin/bash</pre></td></tr></table></figure><p>自定义一个 centos 镜像，让它可以使用 vim、ifconfig、等命令，且让镜像一进来的工作目录为 <code>/usr/local</code> ，对外暴露的端口为 80。</p><p>创建好以后 **wq!** 保存，然后打包生成镜像</p><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre>docker build -f /home/Test/DockerFile -t mycentos:3.0 <span class="token builtin class-name">.</span></pre></td></tr></table></figure><p>== 注意：== 后面的点不能取消。打包好以后，就可以使用 docker images 查看我们的镜像了。</p><h2 id="自定义镜像tomcat85"><a class="anchor" href="#自定义镜像tomcat85">#</a> 自定义镜像 Tomcat8.5</h2><ol><li><p>将 jdk 和 tomcat 安装包的压缩包拷贝进你需要放置的目录中</p></li><li><p>编写需要的配置文件</p><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre>FROM centos</pre></td></tr><tr><td data-num="2"></td><td><pre>MAINTAINER yananduobu@qq.com</pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token comment"># 把宿主机当前上下文的 c.txt 文件拷贝到容器 /usr/local/ 路径下，并且改名字为，yananduobu.txt</span></pre></td></tr><tr><td data-num="4"></td><td><pre>COPY c.txt /usr/local/yananduobu.txt</pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token comment"># 把 java 与 tomcat 添加到容器中</span></pre></td></tr><tr><td data-num="6"></td><td><pre>ADD jdk-8u291-linux-x64.tar.gz /usr/local/</pre></td></tr><tr><td data-num="7"></td><td><pre>ADD apache-tomcat-8.5.30.tar.gz /usr/local/</pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token comment"># 安装编辑器，让 centos 可以使用命令 vim</span></pre></td></tr><tr><td data-num="9"></td><td><pre>RUN yum -y <span class="token function">install</span> <span class="token function">vim</span></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token comment"># 设置工作时的 WORKDIR 路径，登录落脚点</span></pre></td></tr><tr><td data-num="11"></td><td><pre>ENV MYPATH /usr/local/</pre></td></tr><tr><td data-num="12"></td><td><pre>WORKDIR <span class="token variable">$MYPATH</span></pre></td></tr><tr><td data-num="13"></td><td><pre><span class="token comment"># 配置 java 与 tomcat 的环境变量，JAVA_HOME 一般配到 jkd 目录就可以了。</span></pre></td></tr><tr><td data-num="14"></td><td><pre>ENV JAVA_HOME /usr/local/jdk1.8.0_291</pre></td></tr><tr><td data-num="15"></td><td><pre>ENV CLASSPATH <span class="token variable">$JAVA_HOME</span>/usr/local/jdk1.8.0_291/lib/dt.jar:<span class="token variable">$JAVA_HOME</span>/usr/local/jdk1.8.0_291/lib/tools.jar</pre></td></tr><tr><td data-num="16"></td><td><pre>ENV CATALINA_HOME /usr/local/apache-tomcat-8.5.30</pre></td></tr><tr><td data-num="17"></td><td><pre>ENV CATALINA_BASE /usr/local/apache-tomcat-8.5.30</pre></td></tr><tr><td data-num="18"></td><td><pre>ENV <span class="token environment constant">PATH</span> <span class="token environment constant">$PATH</span><span class="token builtin class-name">:</span><span class="token variable">$JAVA_HOME</span>/bin:<span class="token variable">$CATALINA_HOME</span>/lib:<span class="token variable">$CATALINA_HOME</span>/bin</pre></td></tr><tr><td data-num="19"></td><td><pre><span class="token comment"># 容器运行时监听的端口</span></pre></td></tr><tr><td data-num="20"></td><td><pre>EXPOSE <span class="token number">8080</span></pre></td></tr><tr><td data-num="21"></td><td><pre><span class="token comment"># 启动时运行 tomcat</span></pre></td></tr><tr><td data-num="22"></td><td><pre><span class="token comment"># ENTRYPOINT [“/usr/local/apache-tomcat-8.5.30/bin/startup.sh”]</span></pre></td></tr><tr><td data-num="23"></td><td><pre><span class="token comment"># CMD ["/usr/local/apache-tomcat-8.5.30/bin/catalina.sh","run"]</span></pre></td></tr><tr><td data-num="24"></td><td><pre>CMD /usr/local/apache-tomcat-8.5.30/bin/startup.sh <span class="token operator">&amp;&amp;</span> <span class="token function">tail</span> -F /usr/local/apache-tomcat-8.5.30/logs/catalina.out</pre></td></tr></table></figure></li><li><p>打包构建镜像</p><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre>docker build -t mytomcat8.5 <span class="token builtin class-name">.</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token comment"># 这里没有加 -f ，是因为，不需要指定打包的路径，他会自动去找一个叫 Dockerfile 的文件。</span></pre></td></tr><tr><td data-num="3"></td><td><pre>-t <span class="token comment"># 后面加的是你的镜像名字。</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token comment"># 后面的点，不能取消。</span></pre></td></tr></table></figure></li><li><p>运行容器</p><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre>docker run -d -p <span class="token number">9080</span>:8080 --name tomcat8.5 -v /home/Test/tomcat9/test:/usr/local/apache-tomcat-8.5.30/webapps/test -v /home/Test/tomcat9/tomcat-logs/:/usr/local//apache-tomcat-8.5.30/logs --privileged<span class="token operator">=</span>true mytomcat8.5</pre></td></tr><tr><td data-num="2"></td><td><pre>-d <span class="token comment"># 在后台运行</span></pre></td></tr><tr><td data-num="3"></td><td><pre>-p <span class="token comment"># 对外暴露的端口为 9080</span></pre></td></tr><tr><td data-num="4"></td><td><pre>--name <span class="token comment"># 编辑容器的名称</span></pre></td></tr><tr><td data-num="5"></td><td><pre>--privileged<span class="token operator">=</span>true <span class="token comment"># 有时候运行保存，就加上这一句。</span></pre></td></tr></table></figure></li><li><p>docker 配置数据库</p><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment"># 拉取数据库，选择版本</span></pre></td></tr><tr><td data-num="2"></td><td><pre>docker pull mysql:5.7</pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token comment"># 运行配置。</span></pre></td></tr><tr><td data-num="4"></td><td><pre>docker run -d -p <span class="token number">3310</span>:3306 -v /home/Test/mysql/conf:/etc/mysql/conf.d -v /home/Test/mysql/data:/var/lib/mysql -e <span class="token assign-left variable">MYSQL_ROOT_PASSWORD</span><span class="token operator">=</span><span class="token number">123456</span> --name mysql mysql:5.7</pre></td></tr></table></figure></li></ol><div class="tags"><a href="/tags/Docker/" rel="tag"><i class="ic i-tag"></i> Docker</a></div></div><footer><div class="meta"><span class="item"><span class="icon"><i class="ic i-calendar-check"></i> </span><span class="text">更新于</span> <time title="修改时间：2022-09-02 09:30:30" itemprop="dateModified" datetime="2022-09-02T09:30:30+08:00">2022-09-02</time> </span><span id="Growth-Diary/扩展知识/Docker/Docker/" class="item leancloud_visitors" data-flag-title="学习Docker" title="阅读次数"><span class="icon"><i class="ic i-eye"></i> </span><span class="text">阅读次数</span> <span class="leancloud-visitors-count"></span> <span class="text">次</span></span></div><div class="reward"><button><i class="ic i-heartbeat"></i> 赞赏</button><p>^_^请我喝奶茶^_^</p><div id="qr"><div><img data-src="/images/wechatpay.png" alt="Yanan^_^Duobu 微信支付"><p>微信支付</p></div><div><img data-src="/images/alipay.png" alt="Yanan^_^Duobu 支付宝"><p>支付宝</p></div></div></div><div id="copyright"><ul><li class="author"><strong>本文作者： </strong>Yanan^_^Duobu <i class="ic i-at"><em>@</em></i>沿岸踱步</li><li class="link"><strong>本文链接：</strong> <a href="https://github.com/Lklyx/Lklyx.github.io/Growth-Diary/%E6%89%A9%E5%B1%95%E7%9F%A5%E8%AF%86/Docker/Docker/" title="学习Docker">https://github.com/Lklyx/Lklyx.github.io/Growth-Diary/扩展知识/Docker/Docker/</a></li><li class="license"><strong>版权声明： </strong>本站所有文章除特别声明外，均采用-<span class="exturl" data-url="aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC9kZWVkLnpo"><i class="ic i-creative-commons"><em>(CC)</em></i>BY-NC-SA</span>-许可协议。转载请注明出处！</li></ul></div></footer></article></div><div class="post-nav"><div class="item left"><a href="/Growth-Diary/%E6%89%A9%E5%B1%95%E7%9F%A5%E8%AF%86/React/React/" itemprop="url" rel="prev" data-background-image="https:&#x2F;&#x2F;img.timelessq.com&#x2F;image&#x2F;dae614afly1fu89lpjfnoj21sh0ygb29.qevK" title="React"><span class="type">上一篇</span> <span class="category"><i class="ic i-flag"></i> React</span><h3>React</h3></a></div><div class="item right"><a href="/Growth-Diary/%E6%89%A9%E5%B1%95%E7%9F%A5%E8%AF%86/Linux/%E5%AD%A6%E4%B9%A0Linux/" itemprop="url" rel="next" data-background-image="https:&#x2F;&#x2F;img.timelessq.com&#x2F;image&#x2F;6833939bly1gipet8c1a2j20zk0m8kct.NjQu" title="学习Linux"><span class="type">下一篇</span> <span class="category"><i class="ic i-flag"></i> Linux</span><h3>学习Linux</h3></a></div></div><div class="wrap" id="comments"></div></div><div id="sidebar"><div class="inner"><div class="panels"><div class="inner"><div class="contents panel pjax" data-title="文章目录"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4"><span class="toc-number">1.</span> <span class="toc-text">常用命令</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#docker-%E5%AD%A6%E4%B9%A0%E8%B7%AF%E5%BE%84"><span class="toc-number">2.</span> <span class="toc-text">Docker 学习路径</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%AE%89%E8%A3%85docker"><span class="toc-number">3.</span> <span class="toc-text">安装 Docker</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%86%E8%A7%A3%E6%80%8E%E4%B9%88%E5%8D%B8%E8%BD%BDdocker"><span class="toc-number">3.1.</span> <span class="toc-text">了解：怎么卸载 docker</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BA%95%E5%B1%82%E5%8E%9F%E7%90%86"><span class="toc-number">3.2.</span> <span class="toc-text">底层原理</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#docker%E7%9A%84%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4"><span class="toc-number">4.</span> <span class="toc-text">Docker 的常用命令</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AE%BE%E7%BD%AE%E8%87%AA%E5%8A%A8%E5%90%AF%E5%8A%A8"><span class="toc-number">4.1.</span> <span class="toc-text">设置自动启动</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B8%AE%E5%8A%A9%E5%91%BD%E4%BB%A4"><span class="toc-number">4.2.</span> <span class="toc-text">帮助命令</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%95%9C%E5%83%8F%E5%91%BD%E4%BB%A4"><span class="toc-number">4.3.</span> <span class="toc-text">镜像命令</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%B9%E5%99%A8%E5%91%BD%E4%BB%A4"><span class="toc-number">4.4.</span> <span class="toc-text">容器命令</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E7%9A%84%E5%85%B6%E4%BB%96%E5%91%BD%E4%BB%A4"><span class="toc-number">4.5.</span> <span class="toc-text">常用的其他命令</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%83%E4%B9%A0"><span class="toc-number">4.6.</span> <span class="toc-text">练习</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%AF%E8%A7%86%E5%8C%96"><span class="toc-number">4.7.</span> <span class="toc-text">可视化</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#docker%E9%95%9C%E5%83%8F%E8%AE%B2%E8%A7%A3"><span class="toc-number">5.</span> <span class="toc-text">Docker 镜像讲解</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%95%9C%E5%83%8F%E6%98%AF%E4%BB%80%E4%B9%88"><span class="toc-number">5.1.</span> <span class="toc-text">镜像是什么？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#docker%E9%95%9C%E5%83%8F%E5%8A%A0%E8%BD%BD%E5%8E%9F%E7%90%86"><span class="toc-number">5.2.</span> <span class="toc-text">Docker 镜像加载原理</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%86%E5%B1%82%E7%90%86%E8%A7%A3"><span class="toc-number">5.3.</span> <span class="toc-text">分层理解</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#commit%E9%95%9C%E5%83%8F"><span class="toc-number">5.4.</span> <span class="toc-text">commit 镜像</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%AE%B9%E5%99%A8%E6%95%B0%E6%8D%AE%E5%8D%B7"><span class="toc-number">6.</span> <span class="toc-text">容器数据卷</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF%E5%AE%B9%E5%99%A8%E6%95%B0%E6%8D%AE%E5%8D%B7"><span class="toc-number">6.1.</span> <span class="toc-text">什么是容器数据卷</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E6%95%B0%E6%8D%AE%E5%8D%B7"><span class="toc-number">6.2.</span> <span class="toc-text">使用数据卷</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%9E%E6%88%98%E5%AE%89%E8%A3%85mysql"><span class="toc-number">6.3.</span> <span class="toc-text">实战：安装 MySQL</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%B7%E5%90%8D%E6%8C%82%E8%BD%BD%E5%92%8C%E5%8C%BF%E5%90%8D%E6%8C%82%E8%BD%BD"><span class="toc-number">6.4.</span> <span class="toc-text">具名挂载和匿名挂载</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%9D%E8%AF%86dockerfile"><span class="toc-number">6.5.</span> <span class="toc-text">初识 Dockerfile</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#dockerfile%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84"><span class="toc-number">6.6.</span> <span class="toc-text">Dockerfile 体系结构</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E9%95%9C%E5%83%8F"><span class="toc-number">7.</span> <span class="toc-text">自定义镜像</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B5%8B%E8%AF%95%E5%88%9B%E5%BB%BA%E9%95%9C%E5%83%8F"><span class="toc-number">7.1.</span> <span class="toc-text">测试 — 创建镜像</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E9%95%9C%E5%83%8Ftomcat85"><span class="toc-number">7.2.</span> <span class="toc-text">自定义镜像 Tomcat8.5</span></a></li></ol></li></ol></div><div class="related panel pjax" data-title="系列文章"><ul><li class="active"><a href="/Growth-Diary/%E6%89%A9%E5%B1%95%E7%9F%A5%E8%AF%86/Docker/Docker/" rel="bookmark" title="学习Docker">学习Docker</a></li></ul></div><div class="overview panel" data-title="站点概览"><div class="author" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="image" itemprop="image" alt="Yanan^_^Duobu" data-src="/images/avatar.jpg"><p class="name" itemprop="name">Yanan^_^Duobu</p><div class="description" itemprop="description">沿岸踱步 & 成长记录</div></div><nav class="state"><div class="item posts"><a href="/archives/"><span class="count">36</span> <span class="name">文章</span></a></div><div class="item categories"><a href="/categories/"><span class="count">27</span> <span class="name">分类</span></a></div><div class="item tags"><a href="/tags/"><span class="count">31</span> <span class="name">标签</span></a></div></nav><div class="social"><a href="https://github.com/Lklyx" title="https:&#x2F;&#x2F;github.com&#x2F;Lklyx" class="item github"><i class="ic i-github"></i></a> <span class="exturl item zhihu" data-url="aHR0cHM6Ly93d3cuemhpaHUuY29tL3Blb3BsZS9jaS1xaW5nLXhpYW5nLWJlaQ==" title="https:&#x2F;&#x2F;www.zhihu.com&#x2F;people&#x2F;ci-qing-xiang-bei"><i class="ic i-zhihu"></i></span> <span class="exturl item music" data-url="aHR0cHM6Ly9tdXNpYy4xNjMuY29tLyMvbXkvbS9tdXNpYy9wbGF5bGlzdD9pZD0yNDc1NjkyMzQ3" title="https:&#x2F;&#x2F;music.163.com&#x2F;#&#x2F;my&#x2F;m&#x2F;music&#x2F;playlist?id&#x3D;2475692347"><i class="ic i-cloud-music"></i></span> <span class="exturl item weibo" data-url="aHR0cHM6Ly93ZWliby5jb20vNjg3MjkzMTczMC9wcm9maWxlP3JpZ2h0bW9kPTEmd3ZyPTYmbW9kPXBlcnNvbm51bWJlciZpc19hbGw9MQ==" title="https:&#x2F;&#x2F;weibo.com&#x2F;6872931730&#x2F;profile?rightmod&#x3D;1&amp;wvr&#x3D;6&amp;mod&#x3D;personnumber&amp;is_all&#x3D;1"><i class="ic i-weibo"></i></span> <span class="exturl item about" data-url="aHR0cHM6Ly9hYm91dC5tZS95b3VybmFtZQ==" title="https:&#x2F;&#x2F;about.me&#x2F;yourname"><i class="ic i-address-card"></i></span></div><ul class="menu"><li class="item"><a href="/" rel="section"><i class="ic i-home"></i>首页</a></li><li class="item"><a href="/about/" rel="section"><i class="ic i-user"></i>关于</a></li><li class="item dropdown"><a href="javascript:void(0);"><i class="ic i-feather"></i>文章</a><ul class="submenu"><li class="item"><a href="/archives/" rel="section"><i class="ic i-list-alt"></i>归档</a></li><li class="item"><a href="/categories/" rel="section"><i class="ic i-th"></i>分类</a></li><li class="item"><a href="/tags/" rel="section"><i class="ic i-tags"></i>标签</a></li></ul></li><li class="item"><a href="/friends/" rel="section"><i class="ic i-magic"></i>友链</a></li><li class="item"><a href="/space/" rel="section"><i class="ic i-heart"></i>空间</a></li></ul></div></div></div><ul id="quick"><li class="prev pjax"><a href="/Growth-Diary/%E6%89%A9%E5%B1%95%E7%9F%A5%E8%AF%86/React/React/" rel="prev" title="上一篇"><i class="ic i-chevron-left"></i></a></li><li class="up"><i class="ic i-arrow-up"></i></li><li class="down"><i class="ic i-arrow-down"></i></li><li class="next pjax"><a href="/Growth-Diary/%E6%89%A9%E5%B1%95%E7%9F%A5%E8%AF%86/Linux/%E5%AD%A6%E4%B9%A0Linux/" rel="next" title="下一篇"><i class="ic i-chevron-right"></i></a></li><li class="percent"></li></ul></div></div><div class="dimmer"></div></div></main><footer id="footer"><div class="inner"><div class="widgets"><div class="rpost pjax"><h2>随机文章</h2><ul><li class="item"><div class="breadcrumb"><a href="/categories/Growth-Diary/" title="分类于 历练ing">历练ing</a> <i class="ic i-angle-right"></i> <a href="/categories/Growth-Diary/%E6%89%A9%E5%B1%95%E7%9F%A5%E8%AF%86/" title="分类于 扩展知识">扩展知识</a> <i class="ic i-angle-right"></i> <a href="/categories/Growth-Diary/%E6%89%A9%E5%B1%95%E7%9F%A5%E8%AF%86/Webpack/" title="分类于 Webpack">Webpack</a></div><span><a href="/Growth-Diary/%E6%89%A9%E5%B1%95%E7%9F%A5%E8%AF%86/Webpack/Webpack/" title="webpack打包工具">webpack打包工具</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/Growth-Diary/" title="分类于 历练ing">历练ing</a> <i class="ic i-angle-right"></i> <a href="/categories/Growth-Diary/Blog/" title="分类于 Blog">Blog</a></div><span><a href="/Growth-Diary/Blog/%E5%8D%9A%E5%AE%A2%E5%88%B0%E5%A4%84%E6%98%AF%E5%9D%91%E5%9D%91/" title="博客到处是坑坑！">博客到处是坑坑！</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/Diary/" title="分类于 Diary">Diary</a> <i class="ic i-angle-right"></i> <a href="/categories/Diary/%E7%94%9F%E6%B4%BB/" title="分类于 记录生活">记录生活</a></div><span><a href="/Diary/%E7%94%9F%E6%B4%BB/%E4%BC%BC%E6%B0%B4%E6%B5%81%E5%B9%B4%E5%B0%8F%E6%96%87%E6%A1%88/%E5%8A%B1%E5%BF%97%E7%B1%BB/%E5%8A%AA%E5%8A%9B%E4%B8%8D%E6%98%AF%E6%B2%A1%E6%9C%89%E7%94%A8%EF%BC%8C%E5%B0%B1%E6%98%AF%E6%80%95%E4%BD%A0%E4%B8%8D%E5%A4%9F%E5%8A%AA%E5%8A%9B/" title="努力不是没有用，就是怕你不够努力">努力不是没有用，就是怕你不够努力</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/Growth-Diary/" title="分类于 历练ing">历练ing</a> <i class="ic i-angle-right"></i> <a href="/categories/Growth-Diary/%E6%89%A9%E5%B1%95%E7%9F%A5%E8%AF%86/" title="分类于 扩展知识">扩展知识</a> <i class="ic i-angle-right"></i> <a href="/categories/Growth-Diary/%E6%89%A9%E5%B1%95%E7%9F%A5%E8%AF%86/Es6/" title="分类于 Es6">Es6</a></div><span><a href="/Growth-Diary/%E6%89%A9%E5%B1%95%E7%9F%A5%E8%AF%86/Es6/Es6/" title="Es6学习篇">Es6学习篇</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/Diary/" title="分类于 Diary">Diary</a> <i class="ic i-angle-right"></i> <a href="/categories/Diary/%E7%94%9F%E6%B4%BB/" title="分类于 记录生活">记录生活</a></div><span><a href="/Diary/%E7%94%9F%E6%B4%BB/2021%E5%B9%B4/%E5%85%AD%E6%9C%88/%E4%B8%AA%E4%BA%BA%E6%97%A5%E8%AE%B0/" title="六月的雨-充满回忆的你。">六月的雨-充满回忆的你。</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/Growth-Diary/" title="分类于 历练ing">历练ing</a> <i class="ic i-angle-right"></i> <a href="/categories/Growth-Diary/%E6%89%A9%E5%B1%95%E7%9F%A5%E8%AF%86/" title="分类于 扩展知识">扩展知识</a> <i class="ic i-angle-right"></i> <a href="/categories/Growth-Diary/%E6%89%A9%E5%B1%95%E7%9F%A5%E8%AF%86/Nginx/" title="分类于 Nginx">Nginx</a></div><span><a href="/Growth-Diary/%E6%89%A9%E5%B1%95%E7%9F%A5%E8%AF%86/Nginx/Nginx/" title="Nginx学习">Nginx学习</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/Growth-Diary/" title="分类于 历练ing">历练ing</a> <i class="ic i-angle-right"></i> <a href="/categories/Growth-Diary/%E6%89%A9%E5%B1%95%E7%9F%A5%E8%AF%86/" title="分类于 扩展知识">扩展知识</a> <i class="ic i-angle-right"></i> <a href="/categories/Growth-Diary/%E6%89%A9%E5%B1%95%E7%9F%A5%E8%AF%86/%E5%89%8D%E7%AB%AF%E6%8F%92%E4%BB%B6/" title="分类于 前端插件">前端插件</a></div><span><a href="/Growth-Diary/%E6%89%A9%E5%B1%95%E7%9F%A5%E8%AF%86/%E5%89%8D%E7%AB%AF%E5%A5%BD%E7%94%A8%E7%9A%84%E5%B0%8F%E6%8F%92%E4%BB%B6/%E5%89%8D%E7%AB%AF%E5%B0%8F%E6%8F%92%E4%BB%B6/" title="开发中实用的前端插件">开发中实用的前端插件</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/Growth-Diary/" title="分类于 历练ing">历练ing</a> <i class="ic i-angle-right"></i> <a href="/categories/Growth-Diary/CSS/" title="分类于 CSS">CSS</a></div><span><a href="/Growth-Diary/CSS/html+css%E9%81%87%E5%88%B0%E7%9A%84%E7%9F%A5%E8%AF%86%E7%82%B9/" title="css知识点">css知识点</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/Diary/" title="分类于 Diary">Diary</a> <i class="ic i-angle-right"></i> <a href="/categories/Diary/%E7%94%9F%E6%B4%BB/" title="分类于 记录生活">记录生活</a></div><span><a href="/Diary/%E7%94%9F%E6%B4%BB/%E4%BC%BC%E6%B0%B4%E6%B5%81%E5%B9%B4%E5%B0%8F%E6%96%87%E6%A1%88/%E6%83%85%E6%84%9F%E7%B1%BB/%E6%96%87%E6%A1%88/" title="Book思议——情感">Book思议——情感</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/Growth-Diary/" title="分类于 历练ing">历练ing</a> <i class="ic i-angle-right"></i> <a href="/categories/Growth-Diary/Blog/" title="分类于 Blog">Blog</a></div><span><a href="/Growth-Diary/Blog/%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2/" title="搭建博客">搭建博客</a></span></li></ul></div><div><h2>最新评论</h2><ul class="leancloud-recent-comment"></ul></div></div><div class="status"><div class="copyright">&copy; 2010 – <span itemprop="copyrightYear">2023</span> <span class="with-love"><i class="ic i-sakura rotate"></i> </span><span class="author" itemprop="copyrightHolder">Yanan^_^Duobu @ Watching Autumn</span></div><div class="count"><span class="post-meta-item-icon"><i class="ic i-chart-area"></i> </span><span title="站点总字数">146k 字</span> <span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="ic i-coffee"></i> </span><span title="站点阅读时长">2:12</span></div><div class="powered-by">基于 <span class="exturl" data-url="aHR0cHM6Ly9oZXhvLmlv">Hexo</span> & Theme.<a href="https://github.com/amehime/hexo-theme-shoka">Shoka</a></div></div></div></footer></div><script data-config type="text/javascript">var LOCAL={path:"Growth-Diary/扩展知识/Docker/Docker/",favicon:{show:"Duo Bu",hide:"Yan An"},search:{placeholder:"文章搜索",empty:"关于 「 ${query} 」，什么也没搜到",stats:"${time} ms 内找到 ${hits} 条结果"},valine:!0,fancybox:!0,copyright:"复制成功，请到需要的地方粘贴 ^_^。",ignores:[function(e){return e.includes("#")},function(e){return new RegExp(LOCAL.path+"$").test(e)}]}</script><script src="https://cdn.polyfill.io/v2/polyfill.js"></script><script src="//cdn.jsdelivr.net/combine/npm/pace-js@1.0.2/pace.min.js,npm/pjax@0.2.8/pjax.min.js,npm/whatwg-fetch@3.4.0/dist/fetch.umd.min.js,npm/animejs@3.2.0/lib/anime.min.js,npm/algoliasearch@4/dist/algoliasearch-lite.umd.js,npm/instantsearch.js@4/dist/instantsearch.production.min.js,npm/lozad@1/dist/lozad.min.js,npm/quicklink@2/dist/quicklink.umd.js"></script><script src="/js/app.js?v=0.2.4"></script><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({pluginRootPath:"live2dw/",pluginJsPath:"lib/",pluginModelPath:"assets/",model:{jsonPath:"/live2dw/assets/koharu.model.json"},display:{position:"right",width:200,height:320},mobile:{show:!1},react:{opacityDefault:1,opacityOnHover:1},log:!1,tagMode:!1})</script></body></html><!-- rebuild by hrmmi -->